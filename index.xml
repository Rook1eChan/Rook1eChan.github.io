<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>é™ˆ</title><link>https://Rook1eChan.github.io/</link><description>Recent content on é™ˆ</description><generator>Hugo -- 0.151.0</generator><language>zh-CN</language><lastBuildDate>Tue, 23 Sep 2025 14:46:23 +0800</lastBuildDate><atom:link href="https://Rook1eChan.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>2025å±ŠCSä¿ç ”ç»éªŒè´´</title><link>https://Rook1eChan.github.io/posts/%E4%BF%9D%E7%A0%94%E7%BB%8F%E9%AA%8C%E8%B4%B4/%E4%BF%9D%E7%A0%94%E7%BB%8F%E9%AA%8C%E8%B4%B4/</link><pubDate>Tue, 23 Sep 2025 14:46:23 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/%E4%BF%9D%E7%A0%94%E7%BB%8F%E9%AA%8C%E8%B4%B4/%E4%BF%9D%E7%A0%94%E7%BB%8F%E9%AA%8C%E8%B4%B4/</guid><description>&lt;BR&gt;
&lt;p&gt;&lt;em&gt;ä¸€è·¯ä¸Šå—åˆ°äº†å¾ˆå¤šæœ‹å‹å’Œé™Œç”Ÿç½‘å‹çš„å¸®åŠ©ï¼Œæ— ä»¥ä¸ºæŠ¥ã€‚å› æ­¤ï¼Œæˆ‘ä¹Ÿå°†è‡ªå·±çš„ç»éªŒå†™ä¸‹æ¥ï¼Œä¾›åæ¥è€…å‚è€ƒã€‚ï¼ˆæ›´é€‚åˆåŒéå››éçš„åŒå­¦å‚è€ƒï¼‰&lt;/em&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h1 id="ä¸ªäººèƒŒæ™¯"&gt;ä¸ªäººèƒŒæ™¯&lt;/h1&gt;
&lt;p&gt;**å­¦æ ¡ï¼š**åŒ—äº¬æ™®é€šä¸€æœ¬&lt;/p&gt;
&lt;p&gt;**GPAï¼ˆrkï¼‰ï¼š**æ’å2&lt;/p&gt;
&lt;p&gt;**è‹±è¯­ï¼š**CET-4ï¼š611ï¼›CET-6ï¼š583&lt;/p&gt;
&lt;p&gt;**æ‰€è·è£èª‰ï¼š**æ ¡ä¸‰å¥½ã€ä¼˜å›¢ï¼ˆå›½å¥–ç”¨å¤„å¤§ï¼Œå…¶å®ƒè£èª‰æ²¡å•¥ç”¨ï¼‰&lt;/p&gt;
&lt;p&gt;**ç«èµ›ï¼ˆç”¨å¤„ä¸å¤§ï¼‰ï¼š**1.è“æ¡¥æ¯C++çœäºŒï¼›2.åŒ—äº¬å¸‚æ ¡é™…åˆä½œå¸‚ä¼˜ç§€å¥–ï¼›3.ç¾èµ›H&lt;/p&gt;
&lt;p&gt;**ç§‘ç ”ï¼š**ä¸€ç¯‡è®ºæ–‡åœ¨æŠ•ï¼Œä¸€æ®µç§‘ç ”&lt;/p&gt;
&lt;p&gt;**æœ€ç»ˆå»å‘ï¼š**è®¡ç®—æ‰€&lt;/p&gt;
&lt;h1 id="0å†™åœ¨å‰é¢"&gt;0.å†™åœ¨å‰é¢&lt;/h1&gt;
&lt;p&gt;**ä½ æ˜¯å¦åº”è¯¥é€‰æ‹©ä¿ç ”ï¼Ÿ**é™¤äº†ä¿ç ”ï¼Œå‡å­¦çš„é“è·¯è¿˜æœ‰è€ƒç ”å’Œç•™å­¦ã€‚æˆ‘ä»¬åœ¨åŠªåŠ›ä¹‹å‰ï¼Œåº”è¯¥å…ˆé—®æ¸…è‡ªå·±çš„ç›®æ ‡æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ—¶é—´ä¸Šï¼Œä¿ç ”æ„å‘³ç€ä¸‰å¹´çš„æŒç»­ä»˜å‡ºï¼Œä½ éœ€è¦åœ¨è¯¾å†…å·ç»©ç‚¹ï¼Œåœ¨è¯¾å¤–å·ç«èµ›å’Œè®ºæ–‡ï¼Œæ¯”å…¶å®ƒåŒå­¦ä»˜å‡ºæ›´å¤šã€‚è€Œè€ƒç ”åˆ™å¯ä»¥äº«å—å‰ä¸‰å¹´çš„å¤§å­¦ç”Ÿæ´»ï¼Œåªç´§å¼ æœ€åä¸€å¹´ã€‚å½“ç„¶ï¼Œä¿ç ”erå¯ä»¥æ›´æ—©è§£è„±ã€‚å½“è€ƒç ”erè¿˜åœ¨ç´§å¼ å¤‡è€ƒæ—¶ï¼Œä½ å·²ç»ä¸Šå²¸äº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å»å‘ä¸Šï¼Œè€ƒç ”çš„ä¸Šé™æ›´é«˜ï¼Œåªè¦ä½ åˆ†æ•°å¤Ÿé«˜ï¼Œå°±èƒ½å»åˆ°å¯¹åº”çš„å¥½çš„é™¢æ ¡ã€‚ä¿ç ”çš„ä¸‹é™æ›´é«˜ï¼Œä¸€èˆ¬å¤§å®¶éƒ½èƒ½å»æ¯”æœ¬æ ¡é«˜ä¸€ä¸ªæ¡£æ¬¡çš„é™¢æ ¡ã€‚ä½†æ˜¯ä¿ç ”çš„ä¸Šé™è¾ƒä½ï¼Œä¿ç ”ä¸æ˜¯å•ä¸€ç”¨åˆ†æ•°è¯„ä»·äººï¼ŒåŒå±Šæœ‰å¤§é‡æ‰‹æ¡ç«èµ›è®ºæ–‡çš„å¤§ç¥å’Œä½ ç«äº‰ï¼Œè€Œä¸”æœ‰çš„é™¢æ ¡æ ¹æœ¬ä¸æ”¶åŒéå››éçš„å­¦ç”Ÿï¼Œæ‰€ä»¥æƒ³ä¿ç ”å»tpåäº”è¿™æ ·çš„é¡¶çº§é™¢æ ¡è¿˜æ˜¯æŒºéš¾çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é£é™©ä¸Šï¼Œä¿ç ”çš„é£é™©è¾ƒå°ï¼Œä¸‰å¹´çš„æ—¶é—´ä½ æœ‰å¾ˆå¤šæœºä¼šå»æå‡è‡ªå·±ï¼Œåœ¨å¤ä»¤è¥é¢„æ¨å…çš„æ—¶å€™ä½ å¯ä»¥è”ç³»å¤§é‡çš„è€å¸ˆï¼Œæœºä¼šå¾ˆå¤šã€‚è€Œè€ƒç ”å°±æ˜¯çœ‹åˆ†æ•°ï¼Œå¦‚æœå‘æŒ¥ä¸å¥½ä¹Ÿæ²¡æœ‰åˆ«çš„åŠæ³•äº†ã€‚è¿™ä¹Ÿæ˜¯æˆ‘é€‰æ‹©ä¿ç ”çš„åŸå› ï¼Œç»å†è¿‡é«˜è€ƒä»¥åï¼Œæˆ‘å†ä¹Ÿä¸æƒ³å‚åŠ è¿™ç§ä¸€å±€å®šèƒœè´Ÿçš„è€ƒè¯•äº†ã€‚&lt;/p&gt;
&lt;p&gt;**ä»Šå¹´çš„ä¿ç ”å½¢åŠ¿ï¼Ÿ**ä»Šå¹´å’Œå¾€å¹´æœ‰å¾ˆå¤§å˜åŒ–ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤§éƒ¨åˆ†å¤ä»¤è¥åœåŠæˆ–æ— æ•ˆåŠ›ï¼Œä½¿å¾—å‰©ä¸‹å¼€å¤ä»¤è¥çš„å­¦æ ¡äººæ•°æš´æ¶¨ï¼Œoqç°è±¡æ›´ä¸¥é‡ï¼Œä»ç„¶æ˜¯20%çš„äººæ‹¿80%çš„offerã€‚ç›¸å½“äºå°‘äº†ä¸€ä¸ªå å‘çš„æœºä¼šã€‚è€Œä¸”ä»Šå¹´æ˜¯ç¬¬ä¸€å¹´æ”¹é©ï¼Œå¾ˆå¤šäººç”±äºå˜åŒ–å¸¦æ¥çš„æ‹…å¿§é€‰æ‹©æŠ•é€’æ¡£æ¬¡æ›´ä½çš„é™¢æ ¡ï¼Œå¯¼è‡´åé¢çš„äººæ²¡äº†ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºå¤ä»¤è¥å¤§å®¶æ²¡æœ‰offerï¼Œå¯¼è‡´é¢„æ¨å…çš„é—¨æ§›ä¹Ÿæ°´æ¶¨èˆ¹é«˜ã€‚å¤§å®¶çš„offeræ¯”å¾€å¹´æ¡£æ¬¡è¦ä½ã€‚&lt;/li&gt;
&lt;li&gt;é™¢æ ¡ä¿ç ”ç‡å¢åŠ ï¼Œä½†æ¥æ”¶åé¢å¹¶æœªå¢åŠ ï¼Œä¿æœ¬æ ¡çš„å­¦ç”Ÿä¼šå æ‰æ›´å¤šåé¢ã€‚&lt;/li&gt;
&lt;li&gt;æ¨å…ç³»ç»Ÿå¼€æ”¾æå‰ã€‚è€Œä¸”ä»Šå¹´æ˜¯ç»Ÿä¸€å‘å¤è¯•ã€é¢„å½•å–é€šçŸ¥ï¼Œå­¦ç”Ÿç»Ÿä¸€ç¡®å®šï¼ˆå¾€å¹´æ˜¯å„é™¢æ ¡æŒ‰è‡ªå·±çš„æ—¶é—´ï¼‰ï¼Œä¹‹é—´é—´éš”æ—¶é—´å˜é•¿ä¸ºä¸¤å¤©ã€‚è¿™ä¸€ç‚¹åˆ©äºé¸½å­èµ·é£ï¼Œåˆ©äºå€™è¡¥çš„å­¦ç”Ÿæ‹¿offerã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ªäººé¢„æµ‹ï¼Œå¤ä»¤è¥æ²¡æ•ˆåŠ›ã€ä¿ç ”åé¢å¢åŠ ä¼šæˆä¸ºè¶‹åŠ¿ã€‚&lt;/p&gt;
&lt;h1 id="1ä¿ç ”æœ¯è¯­"&gt;1.ä¿ç ”æœ¯è¯­&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åè¯&lt;/th&gt;
&lt;th&gt;å«ä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å¤ä»¤è¥&lt;/td&gt;
&lt;td&gt;ä¿ç ”é€”å¾„1ï¼Œ5æœˆ-7æœˆåº•ï¼Œç«äº‰éå¸¸æ¿€çƒˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é¢„æ¨å…&lt;/td&gt;
&lt;td&gt;ä¿ç ”é€”å¾„2ï¼Œ8æœˆåº•-9æœˆåº•ï¼Œéš¾åº¦æ¯”å¤ä»¤è¥ä½ä¸€äº›&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¹æ¨&lt;/td&gt;
&lt;td&gt;ä¿ç ”é€”å¾„3ï¼Œ925å¼€ç³»ç»Ÿä¹‹åå‚åŠ é¢è¯•ï¼Œç›¸å½“äºè¡¥å½•ï¼Œæœºä¼šè¾ƒå°‘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rk/rank&lt;/td&gt;
&lt;td&gt;ä¸“ä¸šæ’åï¼Œä¸€èˆ¬æŒ‡å­¦ä¹ æˆç»©æ’åï¼Œå¤ä»¤è¥æŒ‡å‰äº”å­¦æœŸæ’åï¼Œé¢„æ¨å…æŒ‡å‰å…­å­¦æœŸæ’å&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;title&lt;/td&gt;
&lt;td&gt;å­¦æ ¡çš„titleé«˜ä¸é«˜ï¼ŒæŒ‡å­¦æ ¡çš„åæ°”å¤§ä¸å¤§ï¼Œç‰Œå­å“ä¸å“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¼ºcom&lt;/td&gt;
&lt;td&gt;å­¦é™¢çš„æ‹›ç”ŸåŠå’Œè¡Œæ”¿å•ä½åœ¨æ‹›ç”Ÿä¸­èµ·å†³å®šæ€§ä½œç”¨ï¼Œå¯¼å¸ˆä¸èƒ½å†³å®šèƒ½å¦å½•å–ä½ ï¼Œå¦‚åŒ—èˆªï¼Œäººå¤§ç­‰ï¼›&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¼±com&lt;/td&gt;
&lt;td&gt;ä¸ä¸Šè¿°æ¦‚å¿µç›¸åï¼Œå¯¼å¸ˆåœ¨æ‹›ç”Ÿä¸­èµ·å†³å®šæ€§ä½œç”¨ï¼Œå¯¼å¸ˆæ„¿æ„è¦ä½ çš„è¯ï¼Œå°±åŸºæœ¬ç¨³äº†ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;oq&lt;/td&gt;
&lt;td&gt;over qualifiedï¼Œä½ å¤ªå¼ºäº†ï¼Œè¶…è¿‡äº†æŠ•é€’é™¢æ ¡çš„æ‹›ç”Ÿèµ„æ ¼ï¼Œä¸è®©ä½ å…¥è¥ã€‚å¦‚æœ¬ç§‘æ¸…åŒ—ä½¬æŠ¥åæœ«ä¹ï¼Œå­¦æ ¡ä¼šè®¤ä¸ºè¯¥ç”Ÿæ‹¿åˆ°ä¼˜è¥ä¹Ÿä¸ä¼šæ¥ï¼Œç´¢æ€§ç›´æ¥æ‹’ç»è¯¥ç”Ÿå…¥è¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bar&lt;/td&gt;
&lt;td&gt;å…¥è¥çš„é—¨æ§›ï¼Œå…¥è¥çš„éš¾åº¦ï¼Œé¢„æ¨å…çš„barä¸€èˆ¬æ¯”å¤ä»¤è¥ä½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¼˜è¥/offer&lt;/td&gt;
&lt;td&gt;ä¼˜ç§€è¥å‘˜ï¼Œå¤ä»¤è¥è€ƒæ ¸é€šè¿‡çš„äººï¼Œä¸€èˆ¬ä¼˜è¥å°±æ˜¯æŒ‡çš„offerï¼Œå³å­¦æ ¡å‘ç»™ä½ çš„é¢„å½•å–æ‰¿è¯ºï¼Œ928å¡«è¯¥æ ¡ï¼Œå°±ä¼šå½•å–ä½ ï¼ˆä¿¡èª‰å¥½çš„å­¦æ ¡ä¸€å®šä¼šå½•å–ä½ ï¼Œæœ‰äº›å­¦æ ¡ä¼šé¸½äººï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å€™è¡¥/wl&lt;/td&gt;
&lt;td&gt;waiting listï¼Œå€™è¡¥é˜Ÿåˆ—ï¼Œå¦‚æœå‰é¢æœ‰äººé¸½äº†ï¼Œé‚£ä¹ˆä¼˜è¥åé¢å°±ä¼šé¡ºå»¶åˆ°ä½ ï¼Œä¸æ˜¯æ‰€æœ‰å­¦æ ¡éƒ½æœ‰wl&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bg&lt;/td&gt;
&lt;td&gt;backgroundï¼Œä¸ªäººèƒŒæ™¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id="2ä¿ç ”å‡†å¤‡"&gt;2.ä¿ç ”å‡†å¤‡&lt;/h1&gt;
&lt;p&gt;è®ºæ–‡=æœ¬ç§‘èƒŒæ™¯&amp;gt;é¡¹ç›®&amp;gt;å…­çº§&amp;gt;ç«èµ›&amp;gt;å…¶å®ƒ&lt;/p&gt;
&lt;h2 id="21æ–‡ä¹¦ææ–™"&gt;2.1æ–‡ä¹¦ææ–™&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä¿ç ”å¡«ç³»ç»Ÿæ—¶è¦ç”¨åˆ°çš„ææ–™ã€‚ä¸ªäººé™ˆè¿°å¯ä»¥ç”¨docï¼Œå…¶ä½™éƒ½æ˜¯pdfæ ¼å¼ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ææ–™&lt;/th&gt;
&lt;th&gt;å†…å®¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è¯ä»¶ç…§&lt;/td&gt;
&lt;td&gt;ä¸€èˆ¬ç³»ç»Ÿæœ‰ä¸è¶…è¿‡1Mçš„è¦æ±‚ï¼Œè¿˜æœ‰çš„ç³»ç»Ÿæœ‰150*200åƒç´ çš„è¦æ±‚ï¼Œç”¨ç”»å›¾å·¥å…·è£å‰ª&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;èº«ä»½è¯æ‰«æä»¶&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å­¦ç”Ÿè¯æ‰«æä»¶&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æˆç»©å•&lt;/td&gt;
&lt;td&gt;å¤§ä¸‰ä¸‹æˆç»©å‡ºæ¥ä¹‹å‰ç”¨å‰äº”å­¦æœŸçš„ï¼Œå‡ºæˆç»©åç”¨å‰å…­å­¦æœŸçš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ’åè¯æ˜&lt;/td&gt;
&lt;td&gt;æ•™åŠ¡å¤„å¼€è¯æ˜ï¼Œå¤§ä¸‰ä¸‹æˆç»©å‡ºæ¥ä¹‹å‰ç”¨å‰äº”å­¦æœŸçš„ï¼Œå‡ºæˆç»©åç”¨å‰å…­å­¦æœŸçš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•™è‚²éƒ¨å­¦ç±åœ¨çº¿éªŒè¯æŠ¥å‘Š&lt;/td&gt;
&lt;td&gt;å»å­¦ä¿¡ç½‘å¼€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸ªäººé™ˆè¿°&lt;/td&gt;
&lt;td&gt;1000å­—ã€300å­—ã€100å­—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å››å…­çº§è¯ä¹¦&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‰€æœ‰çš„è·å¥–è¯ä¹¦æ‰«æä»¶&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è®ºæ–‡å°é¢&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸ªäººç®€å†&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å¯ä»¥æŠŠè¿™äº›æ–‡ä»¶éƒ½å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œã€‚åœ¨è¿™æœŸé—´ï¼Œä½ å¯èƒ½ä¼šå¾—äº†å¥–æˆ–å‘è¡¨äº†è®ºæ–‡ï¼ŒåŠæ—¶æ›´æ–°ã€‚&lt;/p&gt;</description></item><item><title>CS336 Lec1</title><link>https://Rook1eChan.github.io/posts/cs336/lec1/</link><pubDate>Tue, 23 Sep 2025 14:46:23 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/cs336/lec1/</guid><description>&lt;hr&gt;
&lt;p&gt;CS336: Language Models From Scratch (Spring 2025)&lt;/p&gt;
&lt;p&gt;&lt;img loading="lazy" src="../pic/banner.png"&gt;&lt;/p&gt;
&lt;h1 id="0å¼€åœºç™½"&gt;0.å¼€åœºç™½&lt;/h1&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦ä»åŸºç¡€çš„è§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨promptæ“çºµè®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œä½†ç›´æ¥ä½¿ç”¨æ¯•ç«Ÿæ˜¯é«˜åº¦æŠ½è±¡çš„ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ·±å…¥äº†è§£å…¶å®ç°ç»†èŠ‚ã€‚æƒ³è¦ç†è§£å¤§æ¨¡å‹ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯é‡å»ºä¸€ä¸ªå¤§æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è‡ªåˆ¶çš„å°æ¨¡å‹æ˜¯å¦æœ‰æ•ˆæœï¼Ÿä¸ä¸€å®šï¼Œå› ä¸ºå‚æ•°é‡çš„ä¸åŒï¼Œä¸åŒçš„å±‚ï¼ˆå¦‚MLPï¼ŒMHAï¼‰çš„è®¡ç®—é‡å¤§ä¸ç›¸åŒï¼Œæˆ‘ä»¬çš„æ‰€åšçš„ä¼˜åŒ–åœ¨å‚æ•°æ‰©å¤§åä¸ä¸€å®šèµ·ä½œç”¨ã€‚å¦å¤–ï¼Œæ¨¡å‹å­˜åœ¨â€œæ¶Œç°â€ç°è±¡ï¼Œåœ¨è®¡ç®—é‡è¾¾åˆ°ä¸€å®šé‡åï¼Œæ¨¡å‹çš„è¡¨ç°ä¼šçªç„¶å˜å¥½ï¼Œæ‰€ä»¥æ¨¡å‹å¿…é¡»æœ‰ä¸€å®šçš„å‚æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é—¨è¯¾çš„é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ1.å…¨é¢ä»åº•å±‚äº†è§£å¤§æ¨¡å‹ï¼›2.ç»™å®šè®¡ç®—èµ„æºå’Œæ—¶é—´é™åˆ¶ï¼Œæ˜ç™½æ€ä¹ˆå»é«˜æ•ˆçš„è®­ç»ƒæ¨¡å‹ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h1 id="1è¯¾ç¨‹ä¸»è¦å†…å®¹"&gt;1.è¯¾ç¨‹ä¸»è¦å†…å®¹&lt;/h1&gt;
&lt;p&gt;&lt;img loading="lazy" src="../pic/1-p1.png"&gt;&lt;/p&gt;
&lt;h2 id="11basics"&gt;1.1Basics&lt;/h2&gt;
&lt;p&gt;å¾—åˆ°ä¸€ä¸ªèƒ½è¿è¡Œçš„ç®€æ˜“pipelineï¼ŒåŒ…æ‹¬tokenizerï¼ˆBPEç®—æ³•ï¼‰ã€model architectureï¼ˆTransformeræ¶æ„åŠå…¶å„ä¸ªç»„ä»¶ï¼‰ã€trainingï¼ˆä¼˜åŒ–å™¨ã€å­¦ä¹ ç‡ç­‰ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="12systems"&gt;1.2Systems&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚kernelsï¼ˆæ•°æ®åœ¨å†…å­˜å’ŒGPUä¹‹é—´çš„ä¼ é€ï¼‰ã€parallelismï¼ˆå¤šå¡è®­ç»ƒï¼‰ã€inferenceï¼ˆä½¿ç”¨æ¨¡å‹ï¼‰&lt;/p&gt;
&lt;h2 id="13scaling-laws"&gt;1.3scaling laws&lt;/h2&gt;
&lt;p&gt;FLOPså’Œæ¨¡å‹å‚é‡é‡ï¼Œå’Œè®­ç»ƒä½¿ç”¨tokené‡æˆçº¿æ€§å…³ç³»ã€‚&lt;/p&gt;
&lt;h2 id="14data"&gt;1.4data&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•é€‰æ‹©å¹¶å¤„ç†æ•°æ®ã€å¦‚ä½•è¿›è¡Œæ¨¡å‹è¯„ä¼°&lt;/p&gt;
&lt;h2 id="15alignment"&gt;1.5alignment&lt;/h2&gt;
&lt;p&gt;å°†åŸºç¡€æ¨¡å‹è¿›è¡Œå¯¹é½ï¼Œè®©å…¶å­¦ä¼šfollow instructionsã€å…·æœ‰ä¸€å®šé£æ ¼ã€é¿å…è¾“å‡ºæœ‰å®³å†…å®¹ã€‚åŒ…æ‹¬SFTã€RLHFã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h1 id="2tokenization"&gt;2.Tokenization&lt;/h1&gt;
&lt;p&gt;æ¨¡å‹åªèƒ½å¯¹æ•°å€¼è¿›è¡Œè¿ç®—ï¼Œè€Œäººç±»éœ€è¦è‡ªç„¶è¯­è¨€è¿›è¡Œè¾“å…¥è¾“å‡ºã€‚tokenizerå°±æ˜¯è´Ÿè´£å°†è‡ªç„¶è¯­è¨€ï¼ˆstringï¼‰è½¬æ¢ä¸ºtokensï¼ˆlist(int)ï¼‰ï¼Œä»¥ä¾¿ä¼ å…¥æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªè®­ç»ƒå¥½çš„tokenizerå¯ä»¥å¯¹å¥å­è¿›è¡Œç¼–ç ï¼Œå¯ä»¥å°†æ•°ç»„è§£ç å›å¥å­ã€‚&lt;/p&gt;
&lt;p&gt;compress_ratioï¼šå­—èŠ‚æ•°/tokenæ•°ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªtokenå¹³å‡å¯¹åº”å‡ ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯tokenizeræ›¾ä½¿ç”¨è¿‡çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;chatacter_tokenizer&lt;/strong&gt;ï¼šä¸€ä¸ªç®€å•çš„æƒ³æ³•æ˜¯ï¼šå°†æ¯ä¸ªå­—ç¬¦ç›´æ¥è½¬æ¢ä¸ºå¯¹åº”çš„Unicodeã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Unicodeæ˜¯ä¸ºäº†è§£å†³ä¼ ç»Ÿçš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆçš„å±€é™è€Œäº§ç”Ÿçš„ï¼Œå®ƒä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°è¿›è¡Œæ–‡æœ¬è½¬æ¢ã€å¤„ç†çš„è¦æ±‚ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·åšå¯è¡Œï¼Œä½†æ˜¯tokenå¯¹åº”çš„æ•°å€¼èŒƒå›´ä¼šå˜å¾—éå¸¸å¤§ï¼›è€Œä¸”æœ‰å¾ˆå¤šå­—ç¬¦å¹¶ä¸å¸¸ç”¨ï¼Œå­˜åœ¨ç¨€ç–çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;byte_tokenizer&lt;/strong&gt;ï¼šé‚£ä¹ˆï¼Œä¹Ÿå¯ä»¥å°†å¥å­å…¨éƒ¨è½¬æ¢ä¸ºå­—èŠ‚ã€‚è‹±æ–‡å­—æ¯å¯¹åº”ä¸€ä¸ªå­—èŠ‚ï¼Œæœ‰äº›emojiï¼ˆ:earth_asia:ï¼‰åˆ™å¯¹åº”å››ä¸ªå­—èŠ‚ã€‚å¦‚æœä½¿ç”¨UTF-8ç¼–ç ï¼Œæ‰€æœ‰çš„æ•°å€¼éƒ½ä¼šé™åˆ¶åœ¨0-255ä¹‹é—´ã€‚æ•°å€¼å¤§ã€ç¨€ç–çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯tokenåºåˆ—ä¼šå¾ˆé•¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;word-based tokenization&lt;/strong&gt;ï¼šå°†å¥å­åˆ†ä¸ºå•è¯ï¼Œç„¶åå¯¹å•è¯ç¼–ç ã€‚ä½†æ˜¯ï¼Œå•è¯æ˜¯æ— ä¸Šé™çš„ï¼Œè€Œä¸”æ— æ³•å¤„ç†å†™é”™å•è¯ï¼ˆUNKï¼‰çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;BPE&lt;/strong&gt;ï¼šç°åœ¨æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œæœ€æ—©åº”ç”¨äºGPT-2ã€‚å…ˆä½¿ç”¨word-based tokenizationå°†å¥å­è¿›è¡Œç²—ç•¥çš„æ‹†åˆ†ï¼Œç„¶ååœ¨æ¯ä¸€ä¸ªåˆ†å—ä¸Šä½¿ç”¨BPEç®—æ³•ã€‚BPEç®—æ³•å¯ä»¥ç®€å•ç†è§£ä¸ºï¼šæŠŠå¸¸ç”¨çš„å­—ç¬¦ç»„è¿›è¡Œèšåˆï¼Œä½¿ç”¨ä¸€ä¸ªtokenè¡¨ç¤ºï¼›ä¸å¸¸ç”¨çš„åˆ™ç”¨å¤šä¸ªtokenè¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;BPEåŸç†åŠå®ç°ï¼š&lt;a href="https://rook1echan.github.io/posts/minbpe/minbpebpe%E7%AE%97%E6%B3%95%E7%9A%84%E6%9E%81%E7%AE%80%E5%AE%9E%E7%8E%B0/"&gt;minbpeï¼šBPEç®—æ³•çš„æç®€å®ç°&lt;/a&gt;&lt;/p&gt;</description></item><item><title>CS336 Lec2</title><link>https://Rook1eChan.github.io/posts/cs336/lec2/</link><pubDate>Tue, 23 Sep 2025 14:46:23 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/cs336/lec2/</guid><description>&lt;hr&gt;
&lt;p&gt;CS336: Language Models From Scratch (Spring 2025)&lt;/p&gt;
&lt;p&gt;&lt;img loading="lazy" src="../pic/banner.png"&gt;&lt;/p&gt;
&lt;h1 id="1-memory"&gt;1. Memory&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;float32&lt;/strong&gt;ï¼Œ32ä½æµ®ç‚¹æ•°ï¼ŒåŒ…æ‹¬1ä½ç¬¦å·ä½ï¼Œ8ä½æŒ‡æ•°ä½ï¼Œ23ä½å°¾æ•°ä½ã€‚ä¹Ÿç§°ä¸ºfp32ï¼Œå•ç²¾åº¦ã€‚æ˜¯tensorçš„é»˜è®¤å­˜å‚¨ç²¾åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å†…å­˜ä½¿ç”¨çš„ä¼°ç®—ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# å»ºç«‹çŸ©é˜µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;float32&lt;/span&gt; &lt;span class="c1"&gt;# tensoré»˜è®¤ç²¾åº¦ä¸ºfp32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;numel&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;element_size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="c1"&gt;# Float is 4 bytes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;get_memory_usage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="c1"&gt;# 128 bytes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;One matrix in the feedforward layer of GPT-3:&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;get_memory_usage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12288&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;12288&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2304&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="c1"&gt;# 2.3 GB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;float16&lt;/strong&gt;ï¼Œç¬¦å·1ä½ï¼ŒæŒ‡æ•°5ä½ï¼Œå°¾æ•°10ä½ï¼Œä¹Ÿå«åŠç²¾åº¦ã€‚ç›¸è¾ƒäºfp32å†…å­˜å¯ä»¥å‡åŠã€‚ä½†æ˜¯fp16çš„èŒƒå›´æ¯”è¾ƒå°ï¼Œä¼šå‡ºç°ä¸Šæº¢ä¸‹æº¢çš„é—®é¢˜ï¼Œå½±å“æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;bfloat16&lt;/strong&gt;ï¼Œbf16ï¼Œç¬¦å·1ä½ï¼Œ&lt;strong&gt;æŒ‡æ•°8ä½&lt;/strong&gt;ï¼Œå°¾æ•°7ä½ï¼Œåœ¨å’Œfp16ä¿æŒç›¸åŒå­˜å‚¨çš„åŒæ—¶å’Œfp32æœ‰ç›¸åŒçš„åŠ¨æ€èŒƒå›´ï¼Œç‰ºç‰²äº†éƒ¨åˆ†ç²¾åº¦ä½†å¯ä»¥æ¥å—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fp8&lt;/strong&gt;ï¼Œ8ä½ï¼Œæœ‰E4M3ã€E5M2ä¸¤ç§å½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;è®­ç»ƒæ—¶ç”¨fp32æ•ˆæœæœ€å¥½ï¼Œå†…å­˜å¼€é”€ä¹Ÿæœ€é«˜ï¼›fp16ã€bf16ã€fp8å†…å­˜å¼€é”€å°ï¼Œä½†ä¸ç¨³å®šï¼›ä¸€ç§æŠ˜ä¸­çš„åŠæ³•æ˜¯ä½¿ç”¨æ··åˆç²¾åº¦ï¼Œåªåœ¨å…³é”®çš„å±‚ä½¿ç”¨é«˜ç²¾åº¦ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="2-compute"&gt;2. Compute&lt;/h1&gt;
&lt;h2 id="21-tensor"&gt;2.1 tensor&lt;/h2&gt;
&lt;p&gt;Pytorchä¸­çš„tensorï¼ˆå¼ é‡ï¼‰æ˜¯ä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œå¯ä»¥æ˜¯1Dçš„å‘é‡ï¼Œ2Dçš„çŸ©é˜µï¼Œ3Dçš„cubeç­‰ã€‚tensoræ˜¯ä¸€ä¸ª&lt;strong&gt;æŒ‡å‘å…·ä½“å†…å­˜çš„æŒ‡é’ˆ+å„ç§å…ƒæ•°æ®&lt;/strong&gt;ã€‚å…ƒæ•°æ®åŒ…æ‹¬shapeå’Œstrideï¼Œshapeå‘Šè¯‰æˆ‘ä»¬æœ‰å‡ ä¸ªç»´åº¦ï¼Œæ¯ä¸ªç»´åº¦æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œstrideå‘Šè¯‰æˆ‘ä»¬åœ¨å†…å­˜ä¸­è·³å¤šå°‘æ­¥æ‰èƒ½è®¿é—®ä¸‹ä¸€ä¸ªç»´åº¦çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;tensoré»˜è®¤å­˜å‚¨åœ¨cpuä¸Šï¼Œéœ€è¦æ˜¾å¼å°†å…¶ç§»åŠ¨åˆ°gpuã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;memory_allocated&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cuda&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;memory_allocated&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;device&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;device&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cpu&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;ä¸ºäº†åˆ©ç”¨GPUçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œå°†tensorè¿ç§»åˆ°GPU&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Move the tensor to GPU memory (device 0).&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cuda:0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;device&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;device&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cuda&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Or create a tensor directly on the GPU:&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;device&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cuda:0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;new_memory_allocated&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;torch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cuda&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;memory_allocated&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;memory_used&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_memory_allocated&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;memory_allocated&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;memory_used&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 2 32x32 matrices of 4-byte floats&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt; &lt;BR&gt;
&lt;p&gt;æŸäº›æ“ä½œï¼Œå¦‚åˆ‡ç‰‡ã€è½¬ç½®ã€æ”¹å˜å½¢çŠ¶ï¼Œå¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„tensorï¼Œåªæ˜¯æ”¹å˜äº†tensorçš„å…ƒæ•°æ®çš„å€¼ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;</description></item><item><title>CS336 Lec2</title><link>https://Rook1eChan.github.io/posts/cs336/new/</link><pubDate>Tue, 23 Sep 2025 14:46:23 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/cs336/new/</guid><description>&lt;hr&gt;
&lt;p&gt;CS336: Language Models From Scratch (Spring 2025)&lt;/p&gt;</description></item><item><title>CS336 Lec3</title><link>https://Rook1eChan.github.io/posts/cs336/lec3/</link><pubDate>Tue, 23 Sep 2025 14:46:23 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/cs336/lec3/</guid><description>&lt;hr&gt;
&lt;p&gt;CS336: Language Models From Scratch (Spring 2025)&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚ä¸»è¦è®²äº†æ¨¡å‹çš„æ¶æ„è®¾è®¡å’Œè¶…å‚æ•°é€‰æ‹©ã€‚&lt;/p&gt;
&lt;h1 id="1architecture"&gt;1.Architecture&lt;/h1&gt;
&lt;h2 id="11norm"&gt;1.1Norm&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;pre-norm, post-norm, &amp;lsquo;double&amp;rsquo;-norm&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è‡ªä»GPTä¹‹åå¤§éƒ½é‡‡ç”¨pre-normï¼ŒæŠŠlayernormå±‚æ”¾åˆ°FFNã€MHAå±‚ä¹‹å‰ã€‚&lt;/p&gt;
&lt;img src="../pic/3-p1.png" alt="3-p1" style="zoom: 50%;" /&gt;
&lt;p&gt;prenormå’Œpostnormçš„æ•ˆæœä¸€æ ·å¥½ï¼Œè€Œä¸”ä¸éœ€è¦warmã€‚æ›´å¥½çš„æ¢¯åº¦åå‘ä¼ æ’­ï¼Œæ›´å°‘çš„spikeã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰çš„æ¨¡å‹è¿˜ä½¿ç”¨&amp;rsquo;double&amp;rsquo;-normï¼Œå³FFNã€MHAå±‚ä¹‹å‰ä¹‹åéƒ½æœ‰layernormã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;strong&gt;LayerNorm, RMSNorm&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸå§‹çš„transformerå’Œæ—©æœŸæ¨¡å‹ä½¿ç”¨LNï¼Œç°åœ¨éƒ½æ”¹ä¸ºä½¿ç”¨RMSNã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LN&lt;/strong&gt;ï¼š$y = \frac{x - \text{E}[x]}{\sqrt{\text{Var}[x] + \epsilon}} * \gamma + \beta$&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ $\text{E}[x]$ æ˜¯å‡å€¼ï¼Œ$\text{Var}[x]$ æ˜¯æ–¹å·®ï¼Œ$\epsilon$ æ˜¯é˜²æ­¢åˆ†æ¯ä¸º 0 çš„å°é‡ï¼Œ$\gamma$ï¼ˆç¼©æ”¾å› å­ï¼‰å’Œ $\beta$â€‹â€‹ï¼ˆåç§»å› å­ï¼‰æ˜¯å¯å­¦ä¹ å‚æ•°ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;strong&gt;RMSN&lt;/strong&gt;ï¼š$y = \frac{x}{\sqrt{\|x\|_2^2 + \epsilon}} * \gamma$â€‹
å…¶ä¸­ $\|x\|_2^2$â€‹ æ˜¯è¾“å…¥ x çš„äºŒèŒƒæ•°å¹³æ–¹ï¼Œ$\epsilon$â€‹ æ˜¯é˜²æ­¢åˆ†æ¯ä¸º 0 çš„å°é‡ï¼Œ$\gamma$â€‹ æ˜¯å¯å­¦ä¹ çš„ç¼©æ”¾å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å‡å»å‡å€¼ï¼Œä¹Ÿä¸æ·»åŠ åç½®é¡¹$\beta$â€‹ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;RMSNæ•ˆæœå’ŒLNä¸€æ ·å¥½ï¼Œè€Œä¸”æ›´å¿«ã€‚æ“ä½œæ›´å°‘ï¼ˆæ— éœ€è®¡ç®—å¹³å‡å€¼ï¼‰ï¼Œå‚æ•°æ›´å°‘ï¼ˆæ²¡æœ‰åç½®é¡¹ï¼‰ã€‚&lt;/p&gt;
&lt;img src="../pic/3-p2.png" alt="3-p2" style="zoom: 50%;" /&gt;
&lt;p&gt;æ›¾æœ‰ç ”ç©¶è¡¨æ˜ï¼Œåœ¨æ¨¡å‹è¿ç®—ä¸­ï¼ŒçŸ©é˜µä¹˜æ³•å ç”¨çš„flopsè¾¾åˆ°99.8%ï¼Œæ­£åˆ™åŒ–çš„è¿ç®—é‡åªå åˆ°0.17%ã€‚ä»è®¡ç®—æ€§èƒ½çš„è§’åº¦çœ‹ï¼Œnormæ²¡å¿…è¦ä¼˜åŒ–ã€‚ä½†æ˜¯å†…å­˜å¼€é”€ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„è€ƒé‡ï¼Œè¯¥ç ”ç©¶æŒ‡å‡ºæ­£åˆ™åŒ–æ‰€å çš„è¿è¡Œæ—¶é—´è¾¾åˆ°25.5%ï¼Œåœ¨å†…å­˜æ¬è¿ä¸ŠèŠ±äº†ç›¸å½“ä¸€éƒ¨åˆ†æ—¶é—´ï¼Œå› æ­¤å€¼å¾—ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;ç°æœ‰çš„å¤§éƒ¨åˆ†transformeræ¨¡å‹éƒ½æ²¡æœ‰biasé¡¹ï¼Œåªè¿›è¡ŒçŸ©é˜µä¹˜æ³•ã€‚reasonï¼šæ›´ç¨³å®šï¼ˆåŸå› æœªçŸ¥ï¼‰&lt;/p&gt;
&lt;BR&gt;
&lt;h2 id="12-activations"&gt;1.2 Activations&lt;/h2&gt;
&lt;h3 id="relugeluswiglugeglu"&gt;ReLUã€GeLUã€SwiGLUã€GeGLU&lt;/h3&gt;
&lt;p&gt;GLUï¼ˆé—¨æ§çº¿æ€§å•å…ƒï¼‰ç°åœ¨å¾—åˆ°å¹¿æ³›ä½¿ç”¨&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;strong&gt;ReLU&lt;/strong&gt;ï¼ˆRectified Linear Unitï¼Œä¿®æ­£çº¿æ€§å•å…ƒï¼‰æ˜¯æ·±åº¦å­¦ä¹ ä¸­æœ€å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;p&gt;ReLU çš„å‡½æ•°å½¢å¼éå¸¸ç®€å•ï¼Œæ•°å­¦å®šä¹‰ä¸ºï¼š$\text{ReLU}(x) = \max(0, x)$å³ï¼š&lt;/p&gt;</description></item><item><title>minbpeï¼šBPEç®—æ³•çš„æç®€å®ç°</title><link>https://Rook1eChan.github.io/posts/minbpe/minbpebpe%E7%AE%97%E6%B3%95%E7%9A%84%E6%9E%81%E7%AE%80%E5%AE%9E%E7%8E%B0/</link><pubDate>Tue, 23 Sep 2025 14:46:23 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/minbpe/minbpebpe%E7%AE%97%E6%B3%95%E7%9A%84%E6%9E%81%E7%AE%80%E5%AE%9E%E7%8E%B0/</guid><description>&lt;h1 id="minbpebpeç®—æ³•çš„æç®€å®ç°"&gt;minbpeï¼šBPEç®—æ³•çš„æç®€å®ç°&lt;/h1&gt;
&lt;p&gt;github åœ°å€ï¼š&lt;a href="https://github.com/karpathy/minbpe"&gt;karpathy/minbpe&lt;/a&gt;&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="1bpe-ç®—æ³•"&gt;1.BPE ç®—æ³•&lt;/h1&gt;
&lt;p&gt;BPE(Byte Pair Encoding) æ˜¯å¤§æ¨¡å‹çš„ tokenizer å¸¸ç”¨çš„ç®—æ³•ã€‚å®ƒå¯¹è¾“å…¥æ–‡æœ¬çš„å­—èŠ‚è¿›è¡Œç¼–ç ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥ç®—æ³•å›  GPT-2 çš„&lt;a href="https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf"&gt;è®ºæ–‡&lt;/a&gt;å’Œ&lt;a href="https://github.com/openai/gpt-2"&gt;ä»£ç &lt;/a&gt;è€Œè¢«å¹¿æ³›ä½¿ç”¨äº LLMã€‚&lt;a href="https://arxiv.org/abs/1508.07909"&gt;Sennrich et al. 2015&lt;/a&gt;è¢«è®¤ä¸ºæ˜¯ BPE åœ¨ NLP åº”ç”¨ä¸­çš„åŸå§‹å‚è€ƒã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œbpe æŠŠæ–‡æœ¬çœ‹ä½œ utf-8 ç¼–ç çš„å­—èŠ‚ï¼Œç„¶åå°†å‡ºç°æ¬¡æ•°æœ€å¤šçš„ç›¸é‚»å­—èŠ‚åˆå¹¶ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ç¼–ç ã€‚å¦‚æ­¤åå¤æ“ä½œã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="2minbpe-ç®€ä»‹"&gt;2.minbpe ç®€ä»‹&lt;/h1&gt;
&lt;h2 id="21quickstart"&gt;2.1quickstart&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;minbpe&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BasicTokenizer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BasicTokenizer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;aaabdaaabac&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è®­ç»ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;train&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;256&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 256tokens, 3merges&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ç¼–ç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è§£ç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;258&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;258&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;97&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;99&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ä¿å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;toy&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# writes two files: toy.model (for loading) and toy.vocab (for viewing)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è‹±è¯­å­—æ¯ä¸€ä¸ªå­—æ¯å¯¹åº”ä¸€ä¸ªå­—èŠ‚ã€‚å¯¹äº&amp;quot;aaabdaaabac&amp;quot;ï¼Œå…ˆè®¡ç®—ç›¸é‚»ä¸¤å­—èŠ‚çš„å‡ºç°æ¬¡æ•°ï¼Œç„¶åé€‰æ‹©æ¬¡æ•°æœ€å¤šçš„è¿›è¡Œåˆå¹¶ï¼ˆâ€œaaâ€ï¼Œ4æ¬¡ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;â€œaâ€â€œaâ€åˆå¹¶ä¸ºâ€œaaâ€ï¼Œç¼–ç ä¸º256ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå†è®¡ç®—ç›¸é‚»ä¸¤å­—èŠ‚çš„å‡ºç°æ¬¡æ•°ï¼Œå†åˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ toy.vocab ä¸­å¯ä»¥çœ‹åˆ°æ‰€æœ‰å­—ç¬¦åŠå¯¹åº”çš„ç¼–ç ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;toy.vocab
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[a][a] -&amp;gt; [aa] 256
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[aa][a] -&amp;gt; [aaa] 257
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[aaa][b] -&amp;gt; [aaab] 258
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;BR&gt;
&lt;h2 id="22minbpeå’Œgpt-4åˆ†è¯å™¨åŠŸèƒ½ç›¸åŒ"&gt;2.2minbpeå’ŒGPT-4åˆ†è¯å™¨åŠŸèƒ½ç›¸åŒ&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 1.è¯æ˜RegexTokenizerä¸GPT-4çš„åˆ†è¯å™¨æ€§èƒ½ä¸€è‡´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;hello123!!!? (ì•ˆë…•í•˜ì„¸ìš”!) ğŸ˜‰&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# pip install tiktoken&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;tiktoken&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;enc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tiktoken&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_encoding&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;cl100k_base&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;enc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# [15339, 4513, 12340, 30, 320, 31495, 230, 75265, 243, 92245, 16715, 57037]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;minbpe&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;GPT4Tokenizer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GPT4Tokenizer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# [15339, 4513, 12340, 30, 320, 31495, 230, 75265, 243, 92245, 16715, 57037]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 2.æ ‡è®°ç‰¹æ®Štoken&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;lt;|endoftext|&amp;gt;hello world&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;enc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;allowed_special&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;all&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# [100257, 15339, 1917]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ours&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokenizer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;allowed_special&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;all&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# [100257, 15339, 1917]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è°ƒç”¨ encode æ—¶å¿…é¡»æ˜¾ç¤ºå£°æ˜å¤„ç†ç‰¹æ®Šæ ‡è®°ã€‚&lt;code&gt;allowed_special&lt;/code&gt; å‚æ•°å¯ä»¥è®¾ç½®ä¸º&amp;quot;all&amp;quot;ã€&amp;ldquo;none&amp;quot;æˆ–ä¸€ä¸ªç‰¹æ®Štokenåˆ—è¡¨ã€‚&lt;/p&gt;</description></item><item><title>åœ¨Autodlä¸­ä½¿ç”¨LLaMA-Factoryè¿›è¡Œå¾®è°ƒ</title><link>https://Rook1eChan.github.io/posts/llama-factory/llama-factory/</link><pubDate>Mon, 22 Sep 2025 21:15:56 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/llama-factory/llama-factory/</guid><description>&lt;h1 id="ä¸€ç¯å¢ƒå‡†å¤‡"&gt;ä¸€ã€ç¯å¢ƒå‡†å¤‡&lt;/h1&gt;
&lt;h2 id="11åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"&gt;1.1åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;conda create -n lf &lt;span class="nv"&gt;python&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;3.11
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;conda init
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé‡å¼€cmd&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;conda activate lf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h2 id="12ä¸‹è½½ç›¸å…³çš„åŒ…"&gt;1.2ä¸‹è½½ç›¸å…³çš„åŒ…&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;conda install &lt;span class="nv"&gt;pytorch&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;2.4.0 &lt;span class="nv"&gt;torchvision&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;0.19.0 &lt;span class="nv"&gt;torchaudio&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;2.4.0 pytorch-cuda&lt;span class="o"&gt;=&lt;/span&gt;12.1 -c pytorch -c nvidia
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éªŒè¯GPUç‰ˆæœ¬çš„Pytorchæ˜¯å¦æˆåŠŸ&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;python -c &lt;span class="s2"&gt;&amp;#34;import torch; print(torch.cuda.is_available())&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h2 id="13ä¸‹è½½llama-factory"&gt;1.3ä¸‹è½½llama factory&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt install git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¼€ç§‘å­¦ä¸Šç½‘&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://github.com/hiyouga/LLaMA-Factory.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h2 id="14å®‰è£…ä¾èµ–"&gt;1.4å®‰è£…ä¾èµ–&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;python -m pip install --upgrade pip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pip install -r requirements.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pip install -e &lt;span class="s2"&gt;&amp;#34;.[torch,metrics]&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœä¸‹è½½æœ‰é—®é¢˜ï¼Œå¯ä»¥å°è¯•æ¸…åæº&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -e &lt;span class="s2"&gt;&amp;#34;.[torch,metrics]&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h2 id="15æ¸…ç†pip"&gt;1.5æ¸…ç†pip&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pip cache purge
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h1 id="äºŒä¸‹è½½æ¨¡å‹"&gt;äºŒã€ä¸‹è½½æ¨¡å‹&lt;/h1&gt;
&lt;h2 id="21ä»modelscopeä¸‹è½½æ¨¡å‹æƒé‡æ–‡ä»¶"&gt;2.1ä»modelscopeä¸‹è½½æ¨¡å‹æƒé‡æ–‡ä»¶&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pip install modelscope
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥ä¸‹è½½åˆ°é»˜è®¤çš„å†…å­˜ï¼Œä¸€èˆ¬åœ¨/root/.cache/modelscope/hub/model/é‡Œé¢&lt;/p&gt;</description></item><item><title>LumberChunker</title><link>https://Rook1eChan.github.io/posts/lumberchunker/</link><pubDate>Sat, 16 Aug 2025 21:23:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/lumberchunker/</guid><description>&lt;p&gt;&lt;em&gt;EMNLP2024&lt;/em&gt;&lt;/p&gt;
&lt;h1 id="0ä¸»è¦è´¡çŒ®"&gt;0.ä¸»è¦è´¡çŒ®&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æå‡ºäº†Lumberchunkeræ–‡æœ¬åˆ†å‰²æ–¹æ³•&lt;/li&gt;
&lt;li&gt;æå‡ºäº†GuntenQAæ•°æ®é›†&lt;/li&gt;
&lt;li&gt;éªŒè¯äº†Lumberchunkeråœ¨ä¸‹æ¸¸RAGä»»åŠ¡ä¸Šçš„æ•ˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;BR&gt;
&lt;h1 id="1lumberchunker"&gt;1.LumberChunker&lt;/h1&gt;
&lt;p&gt;&lt;img alt="overview" loading="lazy" src="https://Rook1eChan.github.io/lumberchunker/p1.png"&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨LLMåŠ¨æ€çš„å°†æ–‡æ¡£åˆ†å‰²ä¸ºè¯­ä¹‰ç‹¬ç«‹çš„ç‰‡æ®µã€‚æ¯ä¸ªç‰‡æ®µçš„é•¿çŸ­æ˜¯ä¸å›ºå®šçš„ï¼Œç¡®ä¿æ¯ä¸ªç‰‡æ®µçš„è¯­ä¹‰å®Œæ•´æ€§ã€ç‹¬ç«‹æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´åˆ†å‰²åï¼Œæ¯ä¸€æ®µåŒ…å«çš„è¯­ä¹‰æ˜¯å®Œæ•´çš„ï¼ŒåŒæ—¶ä¸å…¶å®ƒæ®µæœ‰åŒºåˆ«ã€‚ç”±LLMæ¥ç¡®å®šåˆé€‚çš„åˆ†å‰²ç‚¹ï¼Œè¿™ä¸€å†³ç­–è¿‡ç¨‹è€ƒè™‘åˆ°æ–‡æœ¬çš„ç»“æ„å’Œè¯­ä¹‰ï¼Œä»è€Œèƒ½å¤Ÿåˆ›å»ºå‡ºå¤§å°æœ€ä¼˜ä¸”ä¸Šä¸‹æ–‡è¿è´¯çš„ç‰‡æ®µã€‚&lt;/p&gt;
&lt;p&gt;1.å…ˆæŒ‰ç…§paragraphåˆ†å‰²ç›®æ ‡æ–‡æ¡£ï¼Œç„¶åæŠŠparagraphé¡ºåºè¿æ¥ï¼Œç›´åˆ°ç´¯è®¡çš„tokenæ•°è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼ $\theta$ï¼Œå½¢æˆ $ G_i$ã€‚è¯¥é˜ˆå€¼å¦‚ä½•è®¾ç½®åæ–‡ä¼šè¯´ã€‚$\theta$ åº”è¯¥è¶³å¤Ÿå¤§ï¼Œé˜²æ­¢æŠŠå…·æœ‰ç›¸å…³æ€§çš„æ®µè½åˆ†å¼€ï¼›åŒæ—¶ $\theta$â€‹ ä¹Ÿè¦è¶³å¤Ÿå°ï¼Œé˜²æ­¢è¿‡å¤šå†…å®¹å½±å“LLMè¿›è¡Œæ¨ç†ã€‚&lt;/p&gt;
&lt;p&gt;2.è®©LLMå¯»æ‰¾ $G_i$ ä¸­â€œè¯­ä¹‰æ–­å±‚â€çš„åœ°æ–¹ï¼Œä½œä¸ºåˆ†å‰²ç‚¹ã€‚åˆ†å‰²ç‚¹ä¹‹å‰å³å½¢æˆä¸€ä¸ªchunkã€‚å‰©ä¸‹çš„å†…å®¹ç»§ç»­ä¸paragraphé¡ºåºæ‹¼æ¥ã€è¶…è¿‡é˜ˆå€¼åœæ­¢ã€LLMåˆ†å‰²â€¦â€¦åˆ†å‰²æ•´ä½“æ˜¯ä¸²è¡Œè¿›è¡Œçš„ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="2gutenqa"&gt;2.GutenQA&lt;/h1&gt;
&lt;p&gt;æ•°æ®æ¥æºäºProject Gutenbergç”µå­å›¾ä¹¦é¦†ã€‚&lt;/p&gt;
&lt;p&gt;1.100æœ¬è‹±æ–‡ä¹¦ç±ï¼Œæ‰‹åŠ¨æå–HTMLå†…å®¹ï¼ˆé™„å½•é‡Œå’ŒNarrativeQAè¿›è¡Œäº†å¯¹æ¯”ï¼Œæ‰‹åŠ¨æå–æ²¡æœ‰ç¼–ç é”™è¯¯ç­‰é—®é¢˜ï¼‰&lt;/p&gt;
&lt;p&gt;2.ä½¿ç”¨ChatGPT3.5ä¸ºæ¯æœ¬ä¹¦ç”Ÿæˆé—®é¢˜ã€ç­”æ¡ˆå’ŒåŒ…å«ç­”æ¡ˆçš„åŸæ–‡ç‰‡æ®µï¼Œäººå·¥ä¸ºæ¯æœ¬ä¹¦ç­›é€‰30ä¸ªé«˜è´¨é‡é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é—®é¢˜éœ€è¦åŸºäºç»™å®šç‰‡æ®µä¸­çš„å…·ä½“ä¿¡æ¯ï¼Œ&lt;u&gt;ä¸”ä¸èƒ½ç”¨ä¹¦ä¸­çš„å…¶å®ƒåœ°æ–¹çš„ä¿¡æ¯æ¥å›ç­”&lt;/u&gt;ã€‚é—®é¢˜å¤§å¤šä»¥â€˜what,â€™ â€˜when,â€™ â€˜whereâ€™ å¼€å¤´ï¼Œ â€˜whyâ€™ and â€˜howâ€™è¾ƒå°‘ã€‚&lt;/p&gt;
&lt;p&gt;3.åŸæ–‡ç‰‡æ®µéœ€è¦ç®€çŸ­ï¼Œä»¥ç¡®ä¿ä»»ä½•åˆ†å—æ–¹æ³•éƒ½ä¸ä¼šæŠŠå®ƒåˆ‡å¼€ã€‚è¯„ä¼°æ–¹æ³•æ˜¯åœ¨æ£€ç´¢åˆ°çš„æ–‡æœ¬ä¸­ç²¾ç¡®åŒ¹é…å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="3experiments"&gt;3.Experiments&lt;/h1&gt;
&lt;h3 id="31-propmtçš„é˜ˆå€¼æ€ä¹ˆé€‰æ‹©"&gt;3.1 propmtçš„é˜ˆå€¼æ€ä¹ˆé€‰æ‹©&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªé˜ˆå€¼å°±æ˜¯paragraphé¡ºåºè¿æ¥çš„é˜ˆå€¼ $\theta$â€‹ ã€‚ç”±äºæ˜¯LLMå¯»æ‰¾åˆ†å‰²ç‚¹ï¼Œtokenè¿‡é•¿ä¼šå½±å“æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸åŒé˜ˆå€¼ä¸‹ä½¿ç”¨DCGè¯„ä¼°æ•ˆæœã€‚DCGè¡¨æ˜äº†æ˜¯å¦æ£€ç´¢åˆ°ï¼Œæ£€ç´¢ç»“æœæ˜¯å¦é å‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="p2" loading="lazy" src="https://Rook1eChan.github.io/lumberchunker/p2.png"&gt;&lt;/p&gt;
&lt;h3 id="32-lumberchunkæ˜¯å¦å¢å¼ºäº†æ£€ç´¢æ•ˆæœ"&gt;3.2 Lumberchunkæ˜¯å¦å¢å¼ºäº†æ£€ç´¢æ•ˆæœï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä¸å…¶å®ƒåˆ†å—åŸºå‡†è¿›è¡Œå¯¹æ¯”ã€‚è¯„ä¼°æŒ‡æ ‡ä¸ºDCG@Kã€RECALL@Kã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="p3" loading="lazy" src="lumberchunker/p3.png"&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œæ³¨æ„åˆ°semantic chunkå’Œparagraph levelçš„æŒ‡æ ‡å¹¶æ²¡æœ‰éšKæœ‰æ•ˆå¢åŠ ï¼Œè¡¨æ˜å…¶åœ¨å¤§è§„æ¨¡æ–‡æ¡£æ£€ç´¢æ–¹é¢çš„å±€é™æ€§ã€‚&lt;/p&gt;
&lt;p&gt;proposition levelçš„å¼•ç”¨åœ¨å“ªï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;é™„å½•Få±•ç¤ºäº†å„åˆ†å‰²æ–¹æ³•çš„ç»Ÿè®¡ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="p3" loading="lazy" src="https://Rook1eChan.github.io/lumberchunker/p3.png"&gt;&lt;/p&gt;
&lt;p&gt;Lumberchunkåˆ‡åˆ†åçš„å—å¹³å‡é•¿åº¦ä¸º334ï¼Œæ¯”é¢„è®¾çš„550é˜ˆå€¼ä½äº†40%ï¼Œè¿™è¯´æ˜LLMæœ‰æ•ˆçš„å¯¹æ–‡æœ¬è¿›è¡Œäº†åˆ‡åˆ†ï¼Œè€Œä¸æ˜¯æŒç»­é€‰æ‹©é è¿‘æœ«å°¾çš„IDã€‚è¯´æ˜æœªå‡ºç°Lost in the Middleç°è±¡ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨è®ºæ–‡ã€ŠLost in the Middle: How Language Models Use Long Contextsã€‹ä¸­ï¼Œä½œè€…å‘ç°ï¼Œå½“é’ˆå¯¹é•¿æ–‡æœ¬çš„ä¸åŒä½ç½®ä¿¡æ¯è®¾è®¡ä¸“é—¨é—®é¢˜ï¼Œæµ‹è¯•å¤§è¯­è¨€æ¨¡å‹å¯¹ä¸åŒä½ç½®ä¿¡æ¯çš„è®°å¿†èƒ½åŠ›æ—¶ï¼Œæ¨¡å‹çš„æ€§èƒ½å‘ˆç°ä¸€ç§ â€œU å‹â€ è¡¨ç°ï¼Œå³å¯¹äºå‰æ®µä¸åæ®µçš„ä¿¡æ¯æœ‰ç€è¾ƒå¼ºçš„å…³æ³¨ä¸è®°å¿†èƒ½åŠ›ï¼Œèƒ½è¾ƒå¥½åœ°è§£å†³é—®é¢˜ï¼Œè€Œå¯¹äºä¸­æ®µä¿¡æ¯çš„åˆ©ç”¨åˆ™æœ‰æ‰€é€Šè‰²ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§ç°è±¡çš„äº§ç”Ÿå¯èƒ½æ˜¯ç”±äºè®­ç»ƒæ•°æ®ä¸­çš„æ— æ„åå·®ã€‚LLM çš„é¢„è®­ç»ƒä¾§é‡äºæ ¹æ®æœ€è¿‘çš„ä¸€äº› token é¢„æµ‹ä¸‹ä¸€ä¸ª tokenï¼Œè€Œåœ¨å¾®è°ƒè¿‡ç¨‹ä¸­ï¼ŒçœŸæ­£çš„æŒ‡ä»¤åˆå¾€å¾€ä½äºä¸Šä¸‹æ–‡å¼€å§‹çš„ä½ç½®ï¼Œè¿™åœ¨ä¸çŸ¥ä¸è§‰ä¸­å¼•å…¥äº†ä¸€ç§ç«‹åœºåè§ï¼Œè®© LLM è®¤ä¸ºé‡è¦ä¿¡æ¯æ€»æ˜¯ä½äºä¸Šä¸‹æ–‡çš„å¼€å¤´å’Œç»“å°¾ã€‚&lt;/p&gt;</description></item><item><title>è®ºæ–‡é˜…è¯» | DeepSeek-VL: Towards Real-World Vision-Language Understanding</title><link>https://Rook1eChan.github.io/posts/deepseekvl/</link><pubDate>Thu, 24 Jul 2025 16:00:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/deepseekvl/</guid><description>&lt;h1 id="deepseek-vl-towards-real-world-vision-language-understanding"&gt;DeepSeek-VL: Towards Real-World Vision-Language Understanding&lt;/h1&gt;
&lt;h2 id="0-abstract"&gt;0. Abstract&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡çš„ä¸»è¦è´¡çŒ®ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®é›†æ„å»ºï¼šæ„å»ºäº†å…·æœ‰å¤šæ ·æ€§å’Œå¯æ‰©å±•æ€§ï¼Œå¹¿æ³›è¦†ç›–çœŸå®ä¸–ç•Œåœºæ™¯çš„æ•°æ®é›†ã€‚åŒ…æ‹¬ç½‘é¡µæˆªå›¾ã€PDFæ–‡æ¡£ã€OCRæ–‡æœ¬ã€å›¾è¡¨ä»¥åŠçŸ¥è¯†å‹å†…å®¹ï¼ˆå¦‚ä¸“å®¶çŸ¥è¯†ã€æ•™ç§‘ä¹¦ï¼‰ç­‰ã€‚æ­¤å¤–ï¼Œæ ¹æ®çœŸå®ç”¨æˆ·åœºæ™¯å°†æ•°æ®è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æ®æ­¤åˆ›å»ºäº†æŒ‡ä»¤å¾®è°ƒæ•°æ®é›†ã€‚é€šè¿‡è¯¥æ•°æ®é›†çš„å¾®è°ƒï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›æ–°çš„æ¨¡å‹æ¶æ„ï¼šé‡‡ç”¨äº†æ··åˆè§†è§‰ç¼–ç å™¨ï¼ˆhybrid vision encoderï¼‰ï¼Œèƒ½åœ¨å›ºå®šçš„tokené¢„ç®—ä¸‹é«˜æ•ˆå¤„ç†é«˜åˆ†è¾¨ç‡å›¾åƒï¼ˆ1024*1024ï¼‰ï¼ŒåŒæ—¶ä¿æŒè¾ƒä½çš„è®¡ç®—å¼€é”€ã€‚è¯¥æ¶æ„ä¿è¯æ¨¡å‹å¤šç§è§†è§‰ä»»åŠ¡ä¸­èƒ½æ•æ‰åˆ°å…³é”®çš„è¯­ä¹‰å’Œç»†èŠ‚ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›æ–°çš„è®­ç»ƒç­–ç•¥ï¼šæ—¢ä½¿LLMå­¦ä¼šæ–°æ¨¡æ€ï¼Œä¹Ÿä¿è¯åŸæœ‰çš„çš„è¯­è¨€èƒ½åŠ›ä¸é€€åŒ–ã€‚è°ƒæ§è¯­è¨€å’Œè§†è§‰çš„ç«äº‰å…³ç³»ï¼Œå®ç°ä¸¤ç§æ¨¡æ€çš„å‡è¡¡èåˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;BR&gt;
&lt;h2 id="1-introduction"&gt;1. Introduction&lt;/h2&gt;
&lt;p&gt;å¤§è¯­è¨€æ¨¡å‹çš„å·¨å¤§æˆåŠŸå¼•å‘äº†äººä»¬å¯¹å¤šæ¨¡æ€æ¨¡å‹çš„è¿½æ±‚ã€‚è¿™äº›æ¨¡å‹èƒ½åŒæ—¶ç†è§£è¯­è¨€å’Œå›¾åƒï¼Œåœ¨æ‰§è¡Œç°å®ä¸–ç•Œä»»åŠ¡æ—¶å±•ç°å‡ºå·¨å¤§çš„æ½œåŠ›ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰å‡ºç°äº†å¾ˆå¤šå¼€æºçš„VLMæ–¹æ¡ˆï¼Œåœ¨benchmarkä¸Šè¡¨ç°ä¼˜ç§€ï¼Œä½†åœ¨ç°å®ä¸–ç•Œä¸­è¡¨ç°ä¸ä½³ã€‚å¤§éƒ½å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼ˆæœ¬æ–‡çš„æ”¹è¿›æ–¹æ¡ˆï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è®¸å¤šæ–¹æ¡ˆå°†é‡å¿ƒæ”¾åœ¨æŒ‡ä»¤å¾®è°ƒé˜¶æ®µã€‚ä½œè€…è®¤ä¸ºåº”å½“ä½¿ç”¨å¤§é‡çš„è§†è§‰-è¯­è¨€æ•°æ®è¿›è¡Œå……åˆ†é¢„è®­ç»ƒã€‚ï¼ˆæ·±åº¦é¢„è®­ç»ƒï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°æœ‰æ–¹æ¡ˆå¤šä½¿ç”¨å­¦æœ¯ä¸Šçš„æ•°æ®é›†è¿›è¡Œå¾®è°ƒï¼Œç¼ºä¹ç°å®ä¸–ç•Œç»éªŒã€‚ï¼ˆç²¾å¿ƒæ„å»ºæ•°æ®é›†ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°æœ‰æ–¹æ¡ˆå¤šé‡‡ç”¨vision transformerä¸é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ç»“åˆçš„æ–¹å¼ï¼Œè¿™ç±»æ¨¡å‹åˆ†è¾¨ç‡ä½ï¼Œä¸èƒ½èƒœä»»OCRæˆ–å¾®å°ç‰©ä½“è¯†åˆ«ä»»åŠ¡ã€‚ï¼ˆé«˜åˆ†è¾¨ç‡å¤„ç†æ¶æ„ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ‰äº›æ¨¡å‹åœ¨é•¿æœŸçš„å¤šæ¨¡æ€è®­ç»ƒä¸­ä¼šå‡ºç°è¯­è¨€èƒ½åŠ›çš„é€€åŒ–ã€‚åº”é‡‡ç”¨ä¸€ç§æ—¢ä¿ç•™è¯­è¨€èƒ½åŠ›ï¼ŒåˆæŒæ¡æ–°æ¨¡æ€èƒ½åŠ›çš„è®­ç»ƒæ–¹å¼ã€‚ï¼ˆå¹³è¡¡å¤šæ¨¡æ€ç‰¹å¾çš„è®­ç»ƒç­–ç•¥ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;BR&gt;
&lt;p&gt;DeepSeek-VLå…·æœ‰é€šç”¨çš„å¤šæ¨¡æ€ç†è§£èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¤„ç†é€»è¾‘å›¾ã€ç½‘é¡µã€å…¬å¼è¯†åˆ«ã€ç§‘å­¦æ–‡çŒ®ã€è‡ªç„¶å›¾åƒç­‰ã€‚&lt;/p&gt;
&lt;p&gt;DeepSeek-VLçš„ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Deepseek-VLçš„é¢„è®­ç»ƒæ•°æ®æ¶µç›–äº†å¹¿æ³›çš„ä¸–ç•ŒçŸ¥è¯†ï¼ŒåŒ…æ‹¬ç½‘ç»œçˆ¬è™«ã€ç½‘é¡µä»£ç ã€ç”µå­ä¹¦ã€æ•™è‚²èµ„æ–™ã€arxivæ–‡ç« ç­‰ç­‰ï¼Œå…¨é¢è¦†ç›–ç°å®ä¸–ç•Œä¸­çš„åœºæ™¯ï¼Œæ•°æ®è´¨é‡é«˜ï¼Œå…·æœ‰å¹¿æ³›æ€§å’Œå®ç”¨æ€§ã€‚åŒæ—¶ä½œè€…å›¢é˜Ÿè¿˜ç²¾å¿ƒè®¾è®¡äº†æŒ‡ä»¤è°ƒä¼˜æ•°æ®é›†ï¼Œå…·ä½“æ¥è¯´ï¼Œä½œè€…ä»ç½‘ä¸Šæ”¶é›†äº†GPT-4Vå’ŒGeminiçš„çœŸå®æ¡ˆä¾‹ï¼Œå¹¶è¿›è¡Œåˆ†ç±»ï¼Œä¸ºæ¯ä¸ªæµ‹è¯•å›¾åƒé€‰æ‹©åˆé€‚çš„promptã€‚è¯¥åˆ†ç±»ä½“ç³»è¿˜ç”¨äºæ„å»ºè¯„ä¼°æ•°æ®é›†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§†è§‰æ¨¡å—é‡‡ç”¨æ··åˆè§†è§‰ç¼–ç å™¨æ¶æ„ï¼Œ384$\times$384çš„æ–‡æœ¬å¯¹é½ç¼–ç å™¨ç”¨äºç²—ç²’åº¦è¯­ä¹‰æå–ï¼Œ1024$\times$1024çš„é«˜åˆ†è¾¨ç‡ç¼–ç å™¨ç”¨äºæ•æ‰ç»†èŠ‚è§†è§‰ä¿¡æ¯ã€‚ä¸¤è€…ç»“åˆï¼Œå¯ä»¥å°†1024$\times$1024çš„å›¾åƒå‹ç¼©ä¸º576ä¸ªtokenï¼Œåœ¨è§†è§‰è¡¨å¾å’Œtokenå¼€é”€é—´å–å¾—å¹³è¡¡ï¼Œä½¿è§†è§‰æ¨¡å—æ”¯æŒæ–‡-å›¾äº¤ç»‡å¤„ç†å’Œå¤šè½®æ¨ç†åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºäº†ä½¿å¤šæ¨¡æ€æ¨¡å‹ä¸å‡ºç°è¯­è¨€èƒ½åŠ›çš„é€€åŒ–ï¼š1.ä¿æŒè‡³å°‘70%çš„è¯­è¨€æ•°æ®ï¼Œè¿™å¯¹ç»´æŠ¤æ¨¡å‹å†…éƒ¨çš„è¯­è¨€çŸ¥è¯†å®Œæ•´æ€§è‡³å…³é‡è¦ã€‚2.ä½œè€…æå‡ºäº†æ¨¡æ€é¢„çƒ­(modality warm-up)ç­–ç•¥ã€‚è¯¥æ–¹æ³•é€šè¿‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŠ¨æ€è°ƒæ•´æ¨¡æ€æ¯”ä¾‹ï¼Œé€æ­¥å¼•å…¥æ›´å¤šè§†è§‰-è¯­è¨€æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨è¿­ä»£æ¨¡å‹æ—¶ï¼Œé¦–å…ˆåœ¨å°æ¨¡å‹ä¸Šè¿›è¡Œå®éªŒã€‚ç„¶è€Œï¼Œå½¢å¦‚1Bçš„å°æ¨¡å‹åœ¨benchmarkä¸Šéš¾ä»¥å±•ç°ç†æƒ³æ€§èƒ½ï¼Œæ— æ³•çœŸå®çš„åæ˜ æ¨¡å‹çš„å®é™…è¡¨ç°ã€‚å› æ­¤ï¼Œä½œè€…æŠŠè¯„ä¼°æªæ–½ä»å¤šé€‰æ”¹ä¸ºäº†å„é€‰é¡¹çš„å›°æƒ‘åº¦ï¼ˆPPLï¼‰å¯¹æ¯”ï¼›æ­¤å¤–ï¼Œä¸ºé¿å…æŒ‡ä»¤è·Ÿéšèƒ½åŠ›æˆä¸ºç“¶é¢ˆï¼Œåœ¨é¢„è®­ç»ƒé˜¶æ®µæˆ‘ä»¬æ··åˆäº†å°‘é‡æŒ‡ä»¤è°ƒä¼˜æ•°æ®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬æ—¢èƒ½åˆ©ç”¨1Bæ¨¡å‹è·å¾—åˆç†æ€§èƒ½è¡¨ç°ï¼Œåˆèƒ½æ›´ç²¾å‡†åœ°é‡åŒ–å®éªŒä¸­æ¯æ¬¡è¿­ä»£çš„å½±å“æ•ˆæœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;BR&gt;
&lt;h2 id="2-data-construction"&gt;2. Data Construction&lt;/h2&gt;
&lt;p&gt;æ•°æ®é›†åŒ…æ‹¬ä¸¤å¤§æ¨¡å—ï¼šVL-Pretrainæ•°æ®ã€VL-SFTæ•°æ®&lt;/p&gt;
&lt;p&gt;VL-Pretrainæ•´åˆäº†å¤šæºè§†è§‰æ–‡æœ¬æ•°æ®ï¼Œæ—¨åœ¨å¼ºåŒ–æ¨¡å‹çš„åŸºç¡€è·¨æ¨¡æ€ç†è§£èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;VL-SFTç›¸å¯¹è¾ƒå°ï¼Œä¸»è¦ç”¨äºè®­ç»ƒæ¨¡å‹å®Œæˆç‰¹å®šä¸‹æ¸¸ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨stage1ï¼ŒVL-Pretrainç”¨äºé¢„çƒ­VL adapter&lt;/p&gt;
&lt;p&gt;stage2ï¼ŒVL-Pretrainç”¨äºè”åˆé¢„è®­ç»ƒVL adaptorå’ŒVL model&lt;/p&gt;
&lt;p&gt;stage3ï¼Œä½¿ç”¨VL-SFTå¾®è°ƒæ•´ä¸ªæ¨¡å‹&lt;/p&gt;
&lt;BR&gt;
&lt;h3 id="21-vl-pretraining-data"&gt;2.1 VL-Pretraining Data&lt;/h3&gt;
&lt;p&gt;åˆ†ä¸ºä»¥ä¸‹7ä¸ªç±»åˆ«ï¼š&lt;/p&gt;
&lt;p&gt;Interleaved image-text dataï¼ˆäº¤é”™å¼å›¾æ–‡æ•°æ®ï¼Œä½¿æ¨¡å‹å¯¹å¤šæ¨¡æ€è¾“å…¥å…·æœ‰æ›´å¥½çš„ä¸Šä¸‹æ–‡å­¦ä¹ èƒ½åŠ›ï¼‰ï¼ŒMMC4ã€Wikiç­‰&lt;/p&gt;
&lt;p&gt;Image caption dataï¼ˆå›¾åƒæè¿°ï¼ŒåŒ…å«é«˜è´¨é‡å›¾-æ–‡å¯¹ï¼‰ï¼ŒCapsfusionã€TaiSuç­‰&lt;/p&gt;
&lt;p&gt;Table and chart dataï¼ˆå›¾è¡¨æ•°æ®ï¼‰ï¼ŒChart2textã€Unichart&lt;/p&gt;
&lt;p&gt;Web Code dataï¼ˆç½‘é¡µä»£ç ï¼Œä½¿æ¨¡å‹å…·æœ‰ä»å›¾å½¢ç•Œé¢æˆ–å›¾è¡¨é‡å»ºä»£ç çš„èƒ½åŠ›ã€‚ä»Stackæ•°æ®é›†ä¸­çš„jupyter notebookæ¸…æ´—å‡º2millionå›¾åƒ-ä»£ç å¯¹ã€‚æœ€ç»ˆé€‰æ‹©1.1millionä½œä¸ºæ˜¯ä¸»è¦è®­ç»ƒé›†ï¼ŒåŒ…æ‹¬ä¸€å¼ å›¾åƒ-è‡³å°‘5è¡Œä»£ç ï¼‰&lt;/p&gt;
&lt;p&gt;OCR dataï¼ˆæ–‡æ¡£å…‰å­¦å­—ç¬¦è¯†åˆ«æ•°æ®ï¼Œä½œè€…æ„å»ºäº†ä¸€ä¸ªä¸­è‹±æ··åˆçš„OCRæ•°æ®é›†ï¼ŒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š1.arxivæ–‡ç«  2.ç”µå­ä¹¦å’Œæ•™è‚²ææ–™ï¼Œæ¥è‡ªAnna&amp;rsquo;s Archiveï¼‰&lt;/p&gt;
&lt;p&gt;Scene text OCRï¼ˆå¢å¼ºæ¨¡å‹è¯†åˆ«åœºæ™¯ä¸­æ–‡æœ¬çš„èƒ½åŠ›ï¼‰ArTã€MLT-17ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Text-only corpusï¼ˆçº¯æ–‡æœ¬ï¼Œå’ŒDeepSeek LLMçš„ä¸€è‡´ï¼‰&lt;/p&gt;
&lt;h3 id="22-vl-sft-data"&gt;2.2 VL-SFT Data&lt;/h3&gt;
&lt;p&gt;åŒ…æ‹¬å¤šä¸ªçŸ¥åå¼€æºæ•°æ®é›†ShareGPT4Vã€LAION-GPTVç­‰ã€‚&lt;/p&gt;</description></item><item><title>åšå®¢ | Stop Saying RAG Is Dead</title><link>https://Rook1eChan.github.io/posts/%E5%8D%9A%E5%AE%A2-stop-saying-rag-is-dead/</link><pubDate>Thu, 17 Jul 2025 10:07:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/%E5%8D%9A%E5%AE%A2-stop-saying-rag-is-dead/</guid><description>&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªç³»åˆ—åšå®¢ï¼ŒåŒ…æ‹¬äº”ç¯‡æ–‡ç« ã€‚åšå®¢åœ°å€ï¼š&lt;a href="https://hamel.dev/notes/llm/rag/not_dead.html"&gt;Stop Saying RAG Is Dead â€“ Hamelâ€™s Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…æ‰¹é©³äº†â€œRAGå·²æ­»â€çš„è¯´æ³•ï¼Œè®¤ä¸ºçœŸæ­£è¢«æ·˜æ±°çš„æ˜¯â€œChuck documents into a vector database, do cosine similarity, call it a day. â€çš„è¿‡æ—¶çš„RAGã€‚RAGæŠ€æœ¯ä»åœ¨è¿›åŒ–ï¼Œåœ¨åé¢çš„çš„æ–‡ç« é‡Œå¯ä»¥çœ‹åˆ°åœ¨æ£€ç´¢ã€è¯„ä¼°ç­‰æ–¹é¢ä¸Šçš„åˆ›æ–°ã€‚å¾ˆé«˜å…´çœ‹åˆ°æœ‰äººå¯¹RAGæŒç§¯ææ€åº¦ï¼Œæ¯•ç«Ÿåœ¨ä¸€ä¸ªæœ‰å¸Œæœ›çš„é¢†åŸŸè¿›è¡Œç ”ç©¶å­¦ä¹ æ›´æœ‰åŠ¨åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;äº”ç¯‡æ–‡ç« çš„ç®€ä»‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: left"&gt;æ ‡é¢˜&lt;/th&gt;
&lt;th&gt;å†…å®¹ç®€ä»‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;&lt;a href="https://hamel.dev/notes/llm/rag/p1-intro.html"&gt;Part 1&lt;/a&gt;: &lt;strong&gt;I donâ€™t use RAG, I just retrieve documents&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Ben ClaviÃ© ä»‹ç»äº†RAGçš„ç°çŠ¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;&lt;a href="https://hamel.dev/notes/llm/rag/p2-evals.html"&gt;Part 2&lt;/a&gt;: &lt;strong&gt;Modern IR Evals For RAG&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¯„ä¼°æ˜¯å¿…ä¸å¯å°‘çš„æ­¥éª¤ï¼Œé«˜è´¨é‡çš„benchmarkæœ‰åŠ©äºæˆ‘ä»¬é€‰æ‹©æ›´å¥½çš„æ–¹æ³•ã€‚Nandan Thakur ï¼ˆBIERä½œè€…ï¼‰è®¤ä¸ºä¼ ç»Ÿçš„IRæŒ‡æ ‡ä¸é€‚åˆè¯„ä¼°RAGçš„è¡¨ç°ï¼Œåº”è¯¥é‡‡ç”¨æ–°çš„æŒ‡æ ‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;&lt;a href="https://hamel.dev/notes/llm/rag/p3_reasoning.html"&gt;Part 3&lt;/a&gt;: &lt;strong&gt;Optimizing Retrieval with Reasoning Models&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Orion Weller æå‡ºäº†ä¸€ç§èƒ½éµå¾ªinstructçš„æ£€ç´¢ç³»ç»Ÿï¼Œåœ¨æ£€ç´¢æ—¶å°±è¿›è¡Œæ¨ç†ï¼Œä¼˜äºä¼ ç»Ÿçš„è¯­ä¹‰æ£€ç´¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;&lt;a href="https://hamel.dev/notes/llm/rag/p4_late_interaction.html"&gt;Part 4&lt;/a&gt;: &lt;strong&gt;Late Interaction Models For RAG&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Antoine Chaffin ä»‹ç»äº†ColBERTè¿™ç±»è¿Ÿäº¤äº’ã€å¤šå‘é‡æ¨¡å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;&lt;a href="https://hamel.dev/notes/llm/rag/p5_map.html"&gt;Part 5&lt;/a&gt;: &lt;strong&gt;RAG with Multiple Representations&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Bryan Bischof and Ayush Chaurasia æå‡ºï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸åŒæ¨¡æ€çš„é—®é¢˜æ™ºèƒ½åŒ–çš„é€‰ç”¨ä¸ç”¨çš„æŒ‡æ ‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;BR&gt;
&lt;h1 id="p1-i-dont-use-rag-i-just-retrieve-documents"&gt;P1: I donâ€™t use RAG, I just retrieve documents&lt;/h1&gt;
&lt;p&gt;ç°åœ¨æœ‰ä¸€äº›è¯´æ³•ï¼Œè®¤ä¸ºé•¿ä¸Šä¸‹æ–‡çª—å£çš„å‡ºç°ä½¿å¾—æˆ‘ä»¬ä¸å†éœ€è¦RAGäº†ã€‚&lt;/p&gt;</description></item><item><title>BERT</title><link>https://Rook1eChan.github.io/posts/bert/</link><pubDate>Tue, 08 Jul 2025 17:02:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/bert/</guid><description>&lt;p&gt;å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/403495863&lt;/p&gt;
&lt;h1 id="1ä»‹ç»"&gt;1.ä»‹ç»&lt;/h1&gt;
&lt;p&gt;BERT(Bidirectional Encoder Representation from Transformers)æ˜¯2018å¹´10æœˆç”±Google AIç ”ç©¶é™¢æå‡ºçš„ä¸€ç§é¢„è®­ç»ƒæ¨¡å‹ï¼Œè¯¥æ¨¡å‹åœ¨æœºå™¨é˜…è¯»ç†è§£é¡¶çº§æ°´å¹³æµ‹è¯•&lt;a href="https://zhida.zhihu.com/search?content_id=177795576&amp;amp;content_type=Article&amp;amp;match_order=1&amp;amp;q=SQuAD1.1&amp;amp;zhida_source=entity"&gt;SQuAD1.1&lt;/a&gt;ä¸­è¡¨ç°å‡ºæƒŠäººçš„æˆç»©: å…¨éƒ¨ä¸¤ä¸ªè¡¡é‡æŒ‡æ ‡ä¸Šå…¨é¢è¶…è¶Šäººç±»ï¼Œå¹¶ä¸”åœ¨11ç§ä¸åŒNLPæµ‹è¯•ä¸­åˆ›å‡ºSOTAè¡¨ç°ï¼ŒåŒ…æ‹¬å°†GLUEåŸºå‡†æ¨é«˜è‡³80.4% (ç»å¯¹æ”¹è¿›7.6%)ï¼Œ&lt;a href="https://zhida.zhihu.com/search?content_id=177795576&amp;amp;content_type=Article&amp;amp;match_order=1&amp;amp;q=MultiNLI&amp;amp;zhida_source=entity"&gt;MultiNLI&lt;/a&gt;å‡†ç¡®åº¦è¾¾åˆ°86.7% (ç»å¯¹æ”¹è¿›5.6%)ï¼Œæˆä¸ºNLPå‘å±•å²ä¸Šçš„é‡Œç¨‹ç¢‘å¼çš„æ¨¡å‹æˆå°±ã€‚&lt;/p&gt;
&lt;p&gt;BERTçš„ç½‘ç»œæ¶æ„ä½¿ç”¨çš„æ˜¯&lt;a href="https://zhida.zhihu.com/search?content_id=177795576&amp;amp;content_type=Article&amp;amp;match_order=1&amp;amp;q=%E3%80%8AAttention+is+all+you+need%E3%80%8B&amp;amp;zhida_source=entity"&gt;ã€ŠAttention is all you needã€‹&lt;/a&gt;ä¸­æå‡ºçš„å¤šå±‚Transformerç»“æ„ã€‚å…¶æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æŠ›å¼ƒäº†ä¼ ç»Ÿçš„RNNå’ŒCNNï¼Œé€šè¿‡Attentionæœºåˆ¶å°†ä»»æ„ä½ç½®çš„ä¸¤ä¸ªå•è¯çš„è·ç¦»è½¬æ¢æˆ1ï¼Œæœ‰æ•ˆçš„è§£å†³äº†NLPä¸­æ£˜æ‰‹çš„é•¿æœŸä¾èµ–é—®é¢˜ã€‚Transformerçš„ç»“æ„åœ¨NLPé¢†åŸŸä¸­å·²ç»å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="2æ¨¡å‹ç»“æ„"&gt;2.æ¨¡å‹ç»“æ„&lt;/h1&gt;
&lt;p&gt;ä¸‹å›¾å±•ç¤ºçš„æ˜¯BERTçš„æ€»ä½“ç»“æ„å›¾ï¼Œå¤šä¸ªTransformer Encoderä¸€å±‚ä¸€å±‚åœ°å †å èµ·æ¥ï¼Œå°±ç»„è£…æˆäº†BERTäº†ï¼Œåœ¨è®ºæ–‡ä¸­ï¼Œä½œè€…åˆ†åˆ«ç”¨12å±‚å’Œ24å±‚Transformer Encoderç»„è£…äº†ä¸¤å¥—BERTæ¨¡å‹ï¼Œä¸¤å¥—æ¨¡å‹çš„å‚æ•°æ€»æ•°åˆ†åˆ«ä¸º110Må’Œ340Mã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="P1" loading="lazy" src="https://Rook1eChan.github.io/bert/p1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;BERTæ˜¯ç”¨äº†Transformerçš„encoderä¾§çš„ç½‘ç»œï¼Œencoderä¸­çš„Self-attentionæœºåˆ¶åœ¨ç¼–ç ä¸€ä¸ªtokençš„æ—¶å€™åŒæ—¶åˆ©ç”¨äº†å…¶ä¸Šä¸‹æ–‡çš„tokenï¼Œå…¶ä¸­â€˜åŒæ—¶åˆ©ç”¨ä¸Šä¸‹æ–‡â€™å³ä¸ºåŒå‘çš„ä½“ç°ï¼Œè€Œå¹¶éåƒBi-LSTMé‚£æ ·æŠŠå¥å­å€’åºè¾“å…¥ä¸€éã€‚åœ¨BERTä¹‹å‰æ˜¯GPTï¼ŒGPTä½¿ç”¨çš„æ˜¯Transformerçš„decoderä¾§çš„ç½‘ç»œï¼ŒGPTæ˜¯ä¸€ä¸ªå•å‘è¯­è¨€æ¨¡å‹çš„é¢„è®­ç»ƒè¿‡ç¨‹ï¼Œæ›´é€‚ç”¨äºæ–‡æœ¬ç”Ÿæˆï¼Œé€šè¿‡å‰æ–‡å»é¢„æµ‹å½“å‰çš„å­—ã€‚&lt;/p&gt;
&lt;h2 id="21embedding"&gt;2.1Embedding&lt;/h2&gt;
&lt;p&gt;Embeddingç”±ä¸‰ç§Embeddingæ±‚å’Œè€Œæˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="p2" loading="lazy" src="https://Rook1eChan.github.io/bert/p2.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;token embedding&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°†è¾“å…¥çš„æ–‡æœ¬è¿›è¡ŒWord Pieceåˆ†è¯ï¼Œå¦‚playingåˆ‡å‰²æˆplayï¼Œ##ingï¼Œä½¿ç”¨Word Pieceæ˜¯ä¸ºäº†è§£å†³æœªç™»å½•è¯ã€‚tokenizationåï¼Œåœ¨å¼€å¤´æ’å…¥[CLS]ï¼Œåœ¨æ¯å¥è¯çš„æœ«å°¾æ’å…¥[SEP]ã€‚[CLS]è¡¨ç¤ºè¯¥ç‰¹å¾ç”¨äºåˆ†ç±»æ¨¡å‹ï¼Œå¯¹éåˆ†ç±»æ¨¡å‹ï¼Œè¯¥ç¬¦å·å¯ä»¥çœå»ã€‚[SEP]è¡¨ç¤ºåˆ†å¥ç¬¦å·ï¼Œç”¨äºæ–­å¼€è¾“å…¥è¯­æ–™ä¸­çš„ä¸¤ä¸ªå¥å­ã€‚&lt;/p&gt;
&lt;p&gt;Bert åœ¨å¤„ç†è‹±æ–‡æ–‡æœ¬æ—¶åªéœ€è¦ 30522 ä¸ªè¯ï¼ŒToken Embeddings å±‚ä¼šå°†æ¯ä¸ªè¯è½¬æ¢æˆ 768 ç»´å‘é‡ï¼Œå¦‚ä¸‹å›¾çš„ä¾‹å­ä¸­ï¼Œ 5 ä¸ªToken ä¼šè¢«è½¬æ¢æˆä¸€ä¸ª (5, 768) çš„çŸ©é˜µæˆ– (1, 5, 768) çš„å¼ é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="p3" loading="lazy" src="https://Rook1eChan.github.io/bert/p3.jpg"&gt;&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;strong&gt;segment embedding&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”¨æ¥åŒºåˆ†ä¸¤ç§å¥å­ã€‚bertåœ¨è®­ç»ƒæ—¶åŒ…æ‹¬ä¸¤ç§ä»»åŠ¡ï¼Œå…¶ä¸€æ˜¯MLMï¼ˆmasked language modelï¼Œæ©ç è¯­è¨€æ¨¡å‹ï¼‰ï¼Œå°±æ˜¯é®ä½æŸä¸ªè¯è®©æ¨¡å‹å»é¢„æµ‹ï¼›å…¶äºŒæ˜¯NSPï¼ˆnext sentence predictionï¼Œä¸‹ä¸€å¥é¢„æµ‹ï¼‰ï¼Œè¾“å…¥ä¸¤ä¸ªå¥å­ï¼Œè®©æ¨¡å‹åˆ¤æ–­æ˜¯å¦ç›¸å…³ã€‚è¿™æ—¶å€™å°±éœ€è¦segment embeddingå¯¹ä¸¤ä¸ªå¥å­åšåŒºåˆ«ã€‚&lt;/p&gt;
&lt;p&gt;è¿›è¡Œé—®ç­”ç­‰éœ€è¦é¢„æµ‹ä¸‹ä¸€å¥çš„ä»»åŠ¡æ—¶ï¼Œsegment embeddingå±‚æŠŠ0èµ‹å€¼ç»™ç¬¬ä¸€ä¸ªå¥å­çš„å„tokenï¼ŒæŠŠ1èµ‹å€¼ç»™ç¬¬äºŒä¸ªå¥å­çš„å„tokenã€‚åœ¨æ–‡æœ¬åˆ†ç±»ä»»åŠ¡æ—¶ï¼Œsegment embeddingå…¨éƒ¨ä¸º0ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="p4" loading="lazy" src="https://Rook1eChan.github.io/bert/p4.jpg"&gt;&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;strong&gt;position embedding&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å’Œtransformerçš„å®ç°ä¸åŒï¼Œä¸æ˜¯å›ºå®šçš„ä¸‰è§’å‡½æ•°ï¼Œè€Œæ˜¯å¯å­¦ä¹ çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;Transformer ä¸­é€šè¿‡æ¤å…¥å…³äº Token çš„ç›¸å¯¹ä½ç½®æˆ–è€…ç»å¯¹ä½ç½®ä¿¡æ¯æ¥è¡¨ç¤ºåºåˆ—çš„é¡ºåºä¿¡æ¯ã€‚ä½œè€…æµ‹è¯•ç”¨å­¦ä¹ çš„æ–¹æ³•æ¥å¾—åˆ° Position Embeddingsï¼Œæœ€ç»ˆå‘ç°å›ºå®šä½ç½®å’Œç›¸å¯¹ä½ç½®æ•ˆæœå·®ä¸å¤šï¼Œæ‰€ä»¥æœ€åç”¨çš„æ˜¯å›ºå®šä½ç½®çš„ï¼Œè€Œæ­£å¼¦å¯ä»¥å¤„ç†æ›´é•¿çš„ Sequenceï¼Œä¸”å¯ä»¥ç”¨å‰é¢ä½ç½®çš„å€¼çº¿æ€§è¡¨ç¤ºåé¢çš„ä½ç½®ã€‚&lt;/p&gt;</description></item><item><title>Retrieval_Learning</title><link>https://Rook1eChan.github.io/posts/%E6%A3%80%E7%B4%A2/</link><pubDate>Mon, 07 Jul 2025 10:07:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/%E6%A3%80%E7%B4%A2/</guid><description>&lt;p&gt;&lt;em&gt;ç®€ä»‹ï¼šæ£€ç´¢ç›¸å…³ç®—æ³•çš„å­¦ä¹ &lt;/em&gt;&lt;/p&gt;
&lt;BR&gt;
&lt;h1 id="1tf-idf"&gt;1.TF-IDF&lt;/h1&gt;
&lt;h2 id="11åŸç†"&gt;1.1åŸç†&lt;/h2&gt;
&lt;p&gt;TFï¼šterm frequencyï¼ˆè¯é¢‘ï¼‰&lt;/p&gt;
&lt;p&gt;IDFï¼šinverse document frequencyï¼ˆé€†æ–‡æ¡£é¢‘ç‡ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å­—è¯çš„é‡è¦æ€§éšç€å®ƒåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°æˆæ­£æ¯”å¢åŠ ï¼Œä½†åŒæ—¶ä¼šéšç€å®ƒåœ¨è¯­æ–™åº“ä¸­å‡ºç°çš„é¢‘ç‡æˆåæ¯”ä¸‹é™ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TF-IDFçš„ä¸»è¦æ€æƒ³æ˜¯&lt;/strong&gt;ï¼šå¦‚æœæŸä¸ªå•è¯åœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡é«˜ï¼ˆTFé«˜ï¼‰ï¼Œå¹¶ä¸”åœ¨å…¶ä»–æ–‡ç« ä¸­å¾ˆå°‘å‡ºç°ï¼ˆIDFé«˜ï¼‰ï¼Œåˆ™è®¤ä¸ºæ­¤è¯æˆ–è€…çŸ­è¯­å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ï¼Œé€‚åˆç”¨æ¥åˆ†ç±»ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;$TF=\frac{æŸä¸ªè¯åœ¨æ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°}{æ–‡ç« çš„æ€»è¯æ•°}$&lt;/p&gt;
&lt;p&gt;è€ƒè™‘åˆ°æ–‡ç« é•¿çŸ­ä¸åŒï¼Œé™¤ä»¥æ€»è¯æ•°è¿›è¡Œæ ‡å‡†åŒ–&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;$IDF=log(\frac{è¯­æ–™åº“çš„æ–‡ç« æ€»æ•°}{åŒ…å«è¯¥è¯çš„æ–‡ç« æ•°é‡+1})$&lt;/p&gt;
&lt;p&gt;åŠ 1é˜²æ­¢ä¸å­˜åœ¨åŒ…å«è¯¥è¯çš„æ–‡æ¡£æ—¶åˆ†æ¯ä¸º0&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;$TF-IDF=TF \times IDF$&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç®€å•å¿«é€Ÿã€æ˜“ç†è§£&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ²¡è€ƒè™‘è¯è¯­çš„è¯­ä¹‰&lt;/li&gt;
&lt;li&gt;ä»…ç”¨è¯é¢‘è€ƒè™‘è¯è¯­çš„é‡è¦æ€§ä¸å¤Ÿå…¨é¢ã€‚æŒ‰ç…§ä¼ ç»ŸTF-IDFï¼Œå¾€å¾€ä¸€äº›ç”Ÿåƒ»è¯çš„IDF(åæ–‡æ¡£é¢‘ç‡)ä¼šæ¯”è¾ƒé«˜ã€å› æ­¤è¿™äº›ç”Ÿåƒ»è¯å¸¸ä¼šè¢«è¯¯è®¤ä¸ºæ˜¯æ–‡æ¡£å…³é”®è¯ã€‚&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰è€ƒè™‘ç‰¹å¾è¯çš„ä½ç½®å› ç´ å¯¹æ–‡æœ¬çš„åŒºåˆ†åº¦ï¼Œè¯æ¡å‡ºç°åœ¨æ–‡æ¡£çš„ä¸åŒä½ç½®æ—¶ï¼Œå¯¹åŒºåˆ†åº¦çš„è´¡çŒ®å¤§å°æ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;BR&gt;
&lt;h2 id="12è‡ªå·±å®ç°"&gt;1.2è‡ªå·±å®ç°&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;math&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è®¡ç®—æ¯å¥è¯çš„è¯é¢‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è®¡ç®—tf=æŸä¸ªè¯åœ¨æ–‡ç« ä¸­å‡ºç°çš„æ€»æ¬¡æ•°/æ–‡ç« çš„æ€»è¯æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;tf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ç»Ÿè®¡å«æœ‰è¯¥å•è¯çš„å¥å­æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;count_sentence&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è®¡ç®—idf=log(è¯­æ–™åº“ä¸­çš„æ–‡æ¡£æ€»æ•°/(åŒ…å«è¯¥è¯çš„æ–‡æ¡£æ•°+1))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;idf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;count_sentence&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# tf-idf=tf*idf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;tfidf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;tf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;idf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;docs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;what is the weather like today&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;what is for dinner tonight&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;this is a question worth pondering&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;it is a beautiful day today&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;word_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="c1"&gt;# è®°å½•æ¯ä¸ªæ–‡æ¡£åˆ†è¯åçš„ç»“æœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;docs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# ä½¿ç”¨åœç”¨è¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# stopwords = [&amp;#34;is&amp;#34;, &amp;#34;the&amp;#34;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# for i in docs:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# all_words = i.split()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# new_words = []&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# for j in all_words:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# if j not in stopwords:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# new_words.append(j)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# word_list.append(new_words)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word_list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# ç»Ÿè®¡æ¯ä¸ªæ–‡æ¡£è¯çš„æ¬¡æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cnt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;doc&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cnt&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;word:&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt; --- TF-IDF:&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tfidf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wordcount&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;BR&gt;
&lt;h2 id="13ä½¿ç”¨sklearnåº“"&gt;1.3ä½¿ç”¨sklearnåº“&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.feature_extraction.text&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;TfidfVectorizer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;docs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;what is the weather like today&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;what is for dinner tonight&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;this is a question worth pondering&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;it is a beautiful day today&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;tfidf_vec&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TfidfVectorizer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# åˆ©ç”¨fit_transformå¾—åˆ°TFIDFçŸ©é˜µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;tfidf_matrix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tfidf_vec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;docs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# åˆ©ç”¨get_feature_names_outå¾—åˆ°ä¸é‡å¤çš„å•è¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tfidf_vec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_feature_names_out&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# åˆ©ç”¨vocabulary_å¾—åˆ°å„å•æ¬¡çš„ç¼–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tfidf_vec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vocabulary_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# è¾“å‡ºTFIDFçŸ©é˜µï¼Œå³æ¯ä¸ªæ–‡æ¡£ä¸­æ¯ä¸ªè¯çš„tfidfå€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tfidf_matrix&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;BR&gt;
&lt;h1 id="2bm25"&gt;2.BM25&lt;/h1&gt;
&lt;h2 id="21åŸç†"&gt;2.1åŸç†&lt;/h2&gt;
&lt;p&gt;BM25æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡æ£€ç´¢æ¡†æ¶çš„æ’åºå‡½æ•°ï¼Œç”¨äºè®¡ç®—æŸ¥è¯¢ï¼ˆQueryï¼‰ä¸æ–‡æ¡£ï¼ˆDocumentï¼‰çš„ç›¸å…³æ€§å¾—åˆ†ã€‚&lt;/p&gt;</description></item><item><title>Inference Scaling for Long-Context Retrieval Augmented Generation</title><link>https://Rook1eChan.github.io/posts/inference-scaling-for-long-context-retrieval-augmented-generation/</link><pubDate>Wed, 07 May 2025 23:04:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/inference-scaling-for-long-context-retrieval-augmented-generation/</guid><description>&lt;p&gt;ICLR2025ï¼Œæ¥è‡ªGoogle DeepMindå›¢é˜Ÿçš„å·¥ä½œ&lt;/p&gt;
&lt;p&gt;&lt;a href="https://arxiv.org/abs/2410.04343v2"&gt;https://arxiv.org/abs/2410.04343v2&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="0ç›®æ ‡"&gt;0.ç›®æ ‡&lt;/h2&gt;
&lt;p&gt;å…ˆå‰å¯¹äºRAGæ¨ç†æ‰©å±•çš„ç ”ç©¶ä¸»è¦é›†ä¸­äºæä¾›æ›´å¤šçš„çŸ¥è¯†ï¼Œä½†åªå¢åŠ çŸ¥è¯†çš„æ•°é‡æ˜¯ä¸å¤Ÿçš„ã€‚å½“å‰çš„LLMåœ¨å¤„ç†é•¿ä¸Šä¸‹æ–‡æ—¶ä»å­˜åœ¨æŒ‘æˆ˜ã€‚æ¯”å¦‚ï¼Œåœ¨è¶…é•¿åºåˆ—ä¸­å®šä½æœ‰æ•ˆä¿¡æ¯çš„èƒ½åŠ›æœ‰é™ã€æœ€ä½³æ€§èƒ½å¾€å¾€æ˜¯åœ¨æ²¡æœ‰å……åˆ†åˆ©ç”¨ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹å®ç°çš„ã€è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆæ–‡æ¡£æ•°é‡ï¼‰çš„æ£€ç´¢ä¼šä½¿æ€§èƒ½åœæ»ç”šè‡³ä¸‹é™ã€‚&lt;/p&gt;
&lt;p&gt;ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸Šä¸‹æ–‡é•¿åº¦ä¸æœ€ä¼˜é…ç½®ä¹‹é—´çš„å…³ç³»ï¼Œèƒ½å¤Ÿé¢„æµ‹æœ€ä½³æ¨ç†å‚æ•°ï¼Œæœ€å¤§é™åº¦æé«˜RAGæ€§èƒ½ã€‚å…¶ä¸­DRAGçš„å‚æ•°ä¸ºæ£€ç´¢åˆ°çš„æ–‡æ¡£æ•°é‡å’Œç¤ºä¾‹æ•°é‡ã€‚IterDRAGçš„å‚æ•°ä¸ºç”Ÿæˆæ¬¡æ•°ã€‚&lt;/p&gt;
&lt;h2 id="1è´¡çŒ®"&gt;1.è´¡çŒ®&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æå‡ºä¸¤ç§RAGæ–¹æ³•ï¼šDRAGï¼ˆåŸºäºæ¼”ç¤ºçš„RAGï¼Œä¸ºLLMæä¾›å¤šä¸ªRAGç¤ºä¾‹ï¼‰å’ŒIterDRAGï¼ˆåŸºäºè¿­ä»£æ¼”ç¤ºçš„RAGï¼Œå°†è¾“å…¥æŸ¥è¯¢åˆ†è§£ä¸ºæ›´ç®€å•çš„å­æŸ¥è¯¢ï¼Œè¿­ä»£æ£€ç´¢ï¼‰ã€‚å¹¶è¯æ˜äº†è¿™ä¸¤ç§æ–¹æ³•ä¼˜äºä»…æä¾›çŸ¥è¯†çš„RAGã€‚&lt;/li&gt;
&lt;li&gt;å¾—åˆ°äº†RAGçš„æ¨ç†ç¼©æ”¾å®šå¾‹ï¼šåœ¨æœ€ä½³é…ç½®ä¸‹ï¼ŒRAGæ€§èƒ½éšæœ‰æ•ˆä¸Šä¸‹æ–‡é•¿åº¦çº¿æ€§å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®å®šå¾‹å¯¹RAGæ€§èƒ½ä¸ä¸åŒæ¨ç†å‚æ•°å»ºæ¨¡ï¼Œæ¨å¯¼å‡ºè®¡ç®—åˆ†é…æ¨¡å‹ï¼Œä¸ºé•¿ä¸Šä¸‹æ–‡RAGçš„ä¼˜åŒ–æä¾›äº†æŒ‡å¯¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="2ç›¸å…³å·¥ä½œ"&gt;2.ç›¸å…³å·¥ä½œ&lt;/h2&gt;
&lt;h3 id="21é•¿ä¸Šä¸‹æ–‡llms"&gt;2.1é•¿ä¸Šä¸‹æ–‡LLMs&lt;/h3&gt;
&lt;p&gt;æ—©æœŸé‡‡ç”¨ç¨€ç–/ä½ç§©æ ¸æ¥å‡å°‘å†…å­˜éœ€æ±‚ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I. Beltagy, M. E. Peters, and A. Cohan. Longformer: The long-document transformer. &lt;em&gt;arXiv preprint&lt;/em&gt; &lt;em&gt;arXiv:2004.05150&lt;/em&gt;, 2020.&lt;/p&gt;
&lt;p&gt;K. Choromanski, V. Likhosherstov, D. Dohan, X. Song, A. Gane, T. Sarlos, P. Hawkins, J. Davis, A. Mohiuddin, L. Kaiser, et al. Rethinking attention with performers. &lt;em&gt;arXiv preprint arXiv:2009.14794&lt;/em&gt;,2020.&lt;/p&gt;
&lt;p&gt;N. Kitaev, L. Kaiser, and A. Levskaya. Reformer: The efficient transformer. In &lt;em&gt;International Conference&lt;/em&gt; &lt;em&gt;on Learning Representations&lt;/em&gt;, 2019.&lt;/p&gt;</description></item><item><title>RAGTruth: A Hallucination Corpus for Developing Trustworthy Retrieval-Augmented Language Models</title><link>https://Rook1eChan.github.io/posts/ragtruth/</link><pubDate>Wed, 07 May 2025 15:49:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/ragtruth/</guid><description>&lt;h1 id="1motivation"&gt;1.Motivation&lt;/h1&gt;
&lt;p&gt;å°½ç®¡æœ‰äº†RAGçš„å¸®åŠ©ï¼ŒLLMä»æœ‰å¯èƒ½ç»™å‡ºä¸æ‰€æä¾›çŸ¥è¯†ä¸ç¬¦çš„å›ç­”ã€‚å› æ­¤éœ€è¦æ„å»ºä¸€ä¸ªæ•°æ®é›†æ¥æ£€æµ‹å¹»è§‰ã€‚&lt;/p&gt;
&lt;br&gt;
&lt;h1 id="2contributions"&gt;2.Contributions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æå‡ºRAGTruthï¼Œä¸€ä¸ªå¤§è§„æ¨¡è¯çº§åˆ«çš„å¹»è§‰æ£€æµ‹æ•°æ®é›†ï¼Œç”±LLMè‡ªç„¶äº§ç”Ÿï¼ˆä½œè€…è®¤ä¸ºæ•…æ„è§¦å‘çš„å¹»è§‰ä¸è‡ªç„¶äº§ç”Ÿçš„å¹»è§‰å­˜åœ¨å·®å¼‚ï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹ç°æœ‰å¹»è§‰æ£€æµ‹æ–¹æ³•è¿›è¡Œæ¯”è¾ƒ&lt;/li&gt;
&lt;li&gt;æå‡ºäº†å¾®è°ƒLLMç”¨äºå¹»è§‰æ£€æµ‹çš„åŸºçº¿ã€‚Llama-2-13Båœ¨RAGTruth training dataä¸Šå¾®è°ƒåæ¯”å¾—ä¸ŠGPT4&lt;/li&gt;
&lt;li&gt;è¯æ˜äº†ä½¿ç”¨å¾®è°ƒå¾—åˆ°çš„å¹»è§‰æ£€æµ‹å™¨ï¼Œèƒ½é™ä½å¹»è§‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="3related-work"&gt;3.Related Work&lt;/h1&gt;
&lt;h1 id="4methods"&gt;4.Methods&lt;/h1&gt;
&lt;h2 id="1hallucination-taxonomyå¹»è§‰ç±»å‹"&gt;1.Hallucination Taxonomyå¹»è§‰ç±»å‹&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡å°†å¹»è§‰ç±»å‹åˆ†ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Evident Conflictæ˜æ˜¾å†²çª&lt;/strong&gt;ï¼šä¸æä¾›çš„æ–‡æœ¬æ˜æ˜¾ç›¸åï¼Œå®¹æ˜“è¾¨åˆ«ï¼Œå¦‚äº‹å®é”™è¯¯ã€æ‹¼å†™é”™è¯¯ã€æ•°å­—é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Subtle Conflictè½»å¾®å†²çª&lt;/strong&gt;ï¼šç”Ÿæˆçš„ä¿¡æ¯ä¸æä¾›çš„æ–‡æœ¬æœ‰æ­§ä¹‰ï¼Œæ¯”å¦‚æœ¯è¯­çš„æ›¿æ¢ï¼Œéœ€è¦ç»“åˆä¸Šä¸‹æ–‡åˆ¤æ–­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Evident Introduction of Baseless Informationæ˜æ˜¾å¼•å…¥æ— æ ¹æ®çŸ¥è¯†&lt;/strong&gt;ï¼šç”Ÿæˆçš„å†…å®¹ä¸åœ¨æä¾›çš„ä¿¡æ¯ä¹‹å†…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Subtle Introduction of Baseless Informationè½»å¾®å¼•å…¥æ— æ ¹æ®çŸ¥è¯†&lt;/strong&gt;ï¼šç”Ÿæˆå†…å®¹è¶…å‡ºäº†æä¾›çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä¸»è§‚çš„å‡è®¾æˆ–æ¨æ–­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="2response-generationå›ç­”ç”Ÿæˆ"&gt;2.Response Generationå›ç­”ç”Ÿæˆ&lt;/h2&gt;
&lt;p&gt;é€‰æ‹©ä¸‰ä¸ªä»»åŠ¡: Question Answering,Data-to-text Writing, and News Summarization.ï¼ˆé—®é¢˜å›ç­”ã€æ•°æ®åˆ°æ–‡æœ¬çš„å†™ä½œã€æ–°é—»æ‘˜è¦ï¼‰ï¼Œç”Ÿæˆå›ç­”å¹¶äººå·¥æ ‡æ³¨å¹»è§‰éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Question Answering&lt;/strong&gt;ï¼šä»MS MARCOé€‰æ‹©ä¸ç”Ÿæ´»ç›¸å…³çš„QAï¼Œæ¯ä¸ªé—®é¢˜ä¿ç•™ä¸‰æ®µæå–å†…å®¹ï¼Œç„¶åä½¿ç”¨LLMæ ¹æ®å†…å®¹å›ç­”é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Data-to-text Writing&lt;/strong&gt;ï¼šä»Yelpæ•°æ®é›†é€‰æ‹©æœ‰å…³å•†å®¶çš„ç»“æ„åŒ–ä¿¡æ¯å’Œç”¨æˆ·çš„è¯„è®ºï¼Œç”¨LLMç”Ÿæˆå¯¹å•†å®¶çš„æè¿°ã€‚å¦‚æœæ•°æ®å‡ºç°ç©ºå€¼è€Œå¤§æ¨¡å‹å°†å…¶è§£é‡Šä¸ºâ€œå‡â€ï¼Œè®¤ä¸ºè¿™æ˜¯å‡ºç°äº†å¹»è§‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;News Summarization&lt;/strong&gt;ï¼šæ•°æ®æ¥è‡ªCNN/Daily Mail dataset+æŸæ–°é—»å¹³å°çš„æ–°é—»ï¼Œä½¿ç”¨LLMå¯¹æ¯ç¯‡å†…å®¹ç”Ÿæˆæ‘˜è¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨çš„LLMï¼šGPT-3.5-turbo-0613ã€GPT-4-0613ã€Mistral-7b-Instructã€Llama-2-7B-chatã€ Llama-2-13B-chatã€ Llama-2-70B-chat&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªä»»åŠ¡éƒ½ç”¨6ä¸ªæ¨¡å‹è·‘ä¸€éï¼Œå¾—åˆ°6ä¸ªå›ç­”ã€‚&lt;/p&gt;
&lt;h2 id="5result"&gt;5.Result&lt;/h2&gt;
&lt;p&gt;å„é¡¹ä»»åŠ¡ä¸­å¹»è§‰ç±»å‹çš„æ¯”ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="f2" loading="lazy" src="https://Rook1eChan.github.io/RAGTRUTH/f2.png"&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾2æ‰€ç¤ºï¼Œåœ¨ä¸Šä¸‹æ–‡ä¸­æ— æ ¹æ®çš„ä¿¡æ¯ç”Ÿæˆæ˜¾è‘—å¤šäºä¸ä¸Šä¸‹æ–‡å†²çªçš„ä¿¡æ¯ç”Ÿæˆï¼Œå°¤å…¶æ˜¯åœ¨é—®ç­”ä»»åŠ¡ä¸­ã€‚åœ¨ä¸¤å¤§ç±»æ— æ ¹æ®ä¿¡æ¯å’Œå†²çªä¿¡æ¯ä¸­ï¼Œæ›´ä¸¥é‡çš„å¹»è§‰ï¼Œå³æ˜æ˜¾çš„æ— æ ¹æ®ä¿¡æ¯å’Œæ˜æ˜¾çš„å†²çªä¿¡æ¯ï¼Œå æ®äº†ç›¸å½“å¤§çš„æ¯”ä¾‹ã€‚è¿™ä¸€è§‚å¯Ÿç»“æœè¯´æ˜å³ä½¿æœ‰RAGï¼Œè¿˜æ˜¯å­˜åœ¨ä¸¥é‡å¹»è§‰ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;&lt;img alt="t2" loading="lazy" src="https://Rook1eChan.github.io/RAGTRUTH/t2.png"&gt;&lt;/p&gt;
&lt;p&gt;æ•°æ®è½¬æ–‡æœ¬çš„ä»»åŠ¡å¹»è§‰ç‡æœ€é«˜ï¼Œå¯èƒ½ä¸JSONæ ¼å¼æœ‰å…³ã€‚å¦å¤–ï¼Œè¾ƒæ–°çš„æ–°é—»çš„å¹»è§‰ç‡ä¸æ¯”è¿‡æ—¶æ–°é—»é«˜ï¼Œå¯èƒ½æ˜¯ç”±äºè¾ƒæ–°çš„æ–°é—»çš„æ–‡æœ¬é•¿åº¦è¾ƒçŸ­ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;å„æ¨¡å‹å‡ºç°å¹»è§‰çš„æ¯”ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆspanã€densityä»€ä¹ˆæ„æ€ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt="t2" loading="lazy" src="https://Rook1eChan.github.io/RAGTRUTH/t3.png"&gt;&lt;/p&gt;
&lt;p&gt;è¡¨3æ˜¾ç¤ºï¼Œåœ¨æˆ‘ä»¬æ”¶é›†çš„æ•°æ®ä¸­ï¼ŒOpenAIçš„ä¸¤ä¸ªæ¨¡å‹è¡¨ç°å‡ºæ˜¾è‘—è¾ƒä½çš„å¹»è§‰ç‡ã€‚å…·ä½“æ¥è¯´ï¼ŒGPT-4-0613çš„å¹»è§‰é¢‘ç‡æœ€ä½ã€‚ä¸ºäº†æ›´æ¸…æ™°åœ°æ¯”è¾ƒä¸åŒæ¨¡å‹çš„å¹»è§‰ç‡ï¼Œæˆ‘ä»¬è®¡ç®—äº†æ¯ä¸ªæ¨¡å‹åœ¨ä¸‰ä¸ªä»»åŠ¡ä¸­çš„å¹»è§‰å¯†åº¦ã€‚å¹»è§‰å¯†åº¦å®šä¹‰ä¸ºæ¯ä¸€ç™¾ä¸ªå•è¯å“åº”ä¸­å¹³å‡å‡ºç°çš„å¹»è§‰è·¨åº¦æ•°ã€‚åœ¨Llama2ç³»åˆ—ä¸­ï¼Œé™¤äº†æ•°æ®æ€»æ–‡æœ¬å†™ä½œä»»åŠ¡å¤–ï¼Œæ¨¡å‹è§„æ¨¡ä¸å¹»è§‰å¯†åº¦ä¹‹é—´å­˜åœ¨æ˜æ˜¾çš„è´Ÿç›¸å…³å…³ç³»ã€‚å°½ç®¡Mistral-7B-Instructæ¨¡å‹åœ¨å„ç§åŸºå‡†å’Œæ’è¡Œæ¦œä¸Šçš„è¡¨ç°å¼ºåŠ²ï¼ˆZhengç­‰äººï¼Œ2023ï¼‰ï¼Œä½†å®ƒç”Ÿæˆçš„åŒ…å«å¹»è§‰çš„å›ç­”æ•°é‡æœ€å¤šã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;å¹»è§‰ä¸æ–‡æœ¬é•¿åº¦çš„å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="t2" loading="lazy" src="https://Rook1eChan.github.io/RAGTRUTH/t4.png"&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆCLBï¼‰ï¼Œåªæœ‰æ–°é—»æ‘˜è¦å‘ˆç°å‡ºä¸Šä¸‹æ–‡è¶Šé•¿ï¼Œè¶Šå®¹æ˜“å¹»è§‰çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå›ç­”é•¿åº¦ï¼ˆRLBï¼‰ï¼Œéƒ½æœ‰å›ç­”è¶Šé•¿ï¼Œè¶Šå®¹æ˜“å¹»è§‰çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;p&gt;å¹»è§‰ä¸ä½ç½®çš„å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨é—®ç­”å’Œæ–°é—»æ‘˜è¦ä»»åŠ¡ä¸­ï¼Œå¹»è§‰æ›´å€¾å‘äºå‡ºç°åœ¨å›ç­”çš„æœ«å°¾ã€‚æ•°æ®åˆ°æ–‡æœ¬å†™ä½œä»»åŠ¡åœ¨å‰åŠéƒ¨åˆ†è¾ƒæ˜“å‡ºç°å¹»è§‰ã€‚&lt;/p&gt;</description></item><item><title>RAG,QAç›¸å…³æ•°æ®é›†åŠè¯„ä»·æ ‡å‡†</title><link>https://Rook1eChan.github.io/posts/ragqa-%E6%95%B0%E6%8D%AE%E9%9B%86%E8%AF%84%E4%BC%B0/</link><pubDate>Sun, 04 May 2025 09:12:03 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/ragqa-%E6%95%B0%E6%8D%AE%E9%9B%86%E8%AF%84%E4%BC%B0/</guid><description>&lt;blockquote&gt;
&lt;p&gt;RAGï¼ŒQAå¸¸ç”¨çš„æ•°æ®é›†å’Œè¯„ä»·æ ‡å‡†
å¤šä¸ºçŸ¥è¯†å¯†é›†å‹ã€é—®ç­”å‹æ•°æ®é›†&lt;/p&gt;&lt;/blockquote&gt;
&lt;h1 id="æ•°æ®é›†"&gt;æ•°æ®é›†&lt;/h1&gt;
&lt;h2 id="1ultradomain"&gt;1.UltraDomain&lt;/h2&gt;
&lt;p&gt;lightragæ›¾ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;a href="https://arxiv.org/abs/2409.05591"&gt;MemoRAG&lt;/a&gt;æå‡ºçš„Benchmarkã€‚&lt;/p&gt;
&lt;p&gt;åœ¨UltraDomainé‡Œï¼ŒåŒ…å«å¤šä¸ªé¢†åŸŸçš„æ•°æ®ï¼Œæ¯ä¸ªæ•°æ®åŒ…æ‹¬å¤šæœ¬ä¹¦ã€‚ä»¥csä¸ºä¾‹ï¼Œå…±å«æœ‰100æœ¬ä¹¦å’Œ100ä¸ªå¯¹åº”çš„é—®é¢˜ã€‚è¯¥é¢†åŸŸä¸“æ³¨äºè®¡ç®—æœºç§‘å­¦ï¼Œæ¶µç›–æ•°æ®ç§‘å­¦å’Œè½¯ä»¶å·¥ç¨‹çš„å…³é”®é¢†åŸŸã€‚å®ƒç‰¹åˆ«å¼ºè°ƒæœºå™¨å­¦ä¹ å’Œå¤§æ•°æ®å¤„ç†ï¼Œå†…å®¹æ¶‰åŠæ¨èç³»ç»Ÿã€åˆ†ç±»ç®—æ³•ä»¥åŠä½¿ç”¨Sparkè¿›è¡Œå®æ—¶åˆ†æã€‚ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;How&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="n"&gt;Spark&lt;/span&gt; &lt;span class="n"&gt;Streaming&lt;/span&gt; &lt;span class="n"&gt;enable&lt;/span&gt; &lt;span class="n"&gt;real&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="n"&gt;processing&lt;/span&gt;&lt;span class="err"&gt;?&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;answers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Spark Streaming extends ...... &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Whole Book......&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;131651&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;context_id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="n"&gt;bcef8714a477fd61fc8fb0d499b2cc3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;_id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;b2fd8d9c6d1499d521d778ce3d6d06fa&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;cs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;meta&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Machine Learning With Spark&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;authors&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Nick Pentreath&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ•°æ®é›†åœ°å€ï¼š&lt;a href="https://huggingface.co/datasets/TommyChien/UltraDomain"&gt;TommyChien/UltraDomain Â· Datasets at Hugging Face&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Lightragä½¿ç”¨LLMç”Ÿæˆé—®é¢˜-ç­”æ¡ˆå¯¹&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆé—®é¢˜çš„æ–¹æ³•æ¥è‡ªäº&lt;a href="https://arxiv.org/abs/2404.16130"&gt;From Local to Global: A Graph RAG Approach to Query-Focused Summarization&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æä¾›æ–‡æœ¬ï¼Œè®©å¤§æ¨¡å‹ç”ŸæˆKä¸ªä½¿ç”¨è¯¥æ•°æ®é›†çš„ç”¨æˆ·èº«ä»½ï¼ˆæ¯”å¦‚æ•°æ®é›†æ˜¯è´¢ç»æ–°é—»ï¼Œuserå°±å¯èƒ½æ˜¯æ”¶é›†é‡‘èå¸‚åœºè¶‹åŠ¿çš„è´¢ç»è®°è€…ï¼‰ï¼Œå¯¹äºæ¯ä¸ªç”¨æˆ·å†ç”ŸæˆNä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªç”¨æˆ·-ä»»åŠ¡æå‡ºMä¸ªé«˜å±‚æ¬¡é—®é¢˜ï¼ˆç†è§£æ•´ä¸ªæ•°æ®é›†ã€æ— éœ€æå–å…·ä½“äº‹å®ï¼‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; User: A tech journalist looking for insights and trends in the tech industry
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Task: Understanding how tech leaders view the role of policy and regulation
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Questions:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; 1. Which episodes deal primarily with tech policy and government regulation?
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; 2. How do guests perceive the impact of privacy laws on technology development?
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; 3. Do any guests discuss the balance between innovation and ethical considerations?
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; 4. What are the suggested changes to current policies mentioned by the guests?
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; 5. Are collaborations between tech companies and governments discussed and how?
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;BR&gt;
&lt;h2 id="2daprä½¿ç”¨çš„æ•°æ®é›†"&gt;2.DAPRä½¿ç”¨çš„æ•°æ®é›†&lt;/h2&gt;
&lt;p&gt;MS MARCOã€Natural Questionsã€MIRACLã€Genomics å’Œ ConditionalQA&lt;/p&gt;</description></item><item><title>DAPR A Benchmark on Document-Aware Passage Retrieval</title><link>https://Rook1eChan.github.io/posts/dapr-a-benchmark-on-document-aware-passage-retrieval/</link><pubDate>Fri, 02 May 2025 16:41:03 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/dapr-a-benchmark-on-document-aware-passage-retrieval/</guid><description>&lt;h2 id="1motivation"&gt;1.Motivation&lt;/h2&gt;
&lt;p&gt;ç°æœ‰çš„ç¥ç»æ£€ç´¢ï¼ˆneural retrievalï¼‰çš„æ–¹æ³•ä¸»è¦é›†ä¸­åœ¨çŸ­æ–‡æœ¬æ’åºï¼Œåœ¨é•¿ç¯‡æ–‡ç« ä¸­åšæ£€ç´¢æ•ˆæœå¹¶ä¸å¥½ï¼ˆç”±äºè‡ªæ³¨æ„åŠ›æœºåˆ¶tokenæ•°é‡çš„é™åˆ¶ï¼›æˆ–è€…è¿”å›çš„æ–‡æ¡£è¿‡é•¿ï¼Œä¸ä¾¿äºç”¨æˆ·ä½¿ç”¨ï¼‰ã€‚å¦å¤–ï¼Œä½œè€…å‘ç°åœ¨å…ˆè¿›æ£€ç´¢å™¨çš„æ£€ç´¢é”™è¯¯ä¸­ï¼ŒåŠæ•°é”™è¯¯ä¸ç¼ºå°‘ä¸Šä¸‹æ–‡æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼šåœ¨Aå‰§åœºä¸­æ¼”å‡ºè¿‡çš„æ¼”å‘˜æœ‰å“ªäº›ï¼Ÿå¦‚æœåªæ£€ç´¢å…³é”®å­—â€œAå‰§åœºâ€ï¼Œå¯èƒ½æ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œéœ€è¦ç»“åˆä¸Šä¸‹æ–‡æ‰¾åˆ°â€œâ€¦â€¦åœ¨è¿™é‡Œæ¼”å‡ºè¿‡â€¦â€¦â€çš„å†…å®¹æ‰æ˜¯çœŸæ­£ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä½œè€…é’ˆå¯¹ä¸Šä¸‹æ–‡å¼ºå…³è”çš„ä»»åŠ¡å»ºç«‹äº†ä¸€ä¸ªæ•°æ®é›†ï¼Œä½¿ç”¨ä¸¤ç±»æ–¹æ³•ï¼ˆhybrid retrieval with BM25ã€ contextualized passage representationsï¼‰è¿›è¡Œå®éªŒï¼Œå¹¶è¯¦ç»†è§£é‡Šäº†å®éªŒç»“æœã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h2 id="2related-work"&gt;2.Related work&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Document Question Answeringï¼ˆDocQAï¼‰&lt;/strong&gt;ï¼šè¦æ±‚æ¨¡å‹å›ç­”å…³äºè¾“å…¥æ–‡æ¡£çš„é—®é¢˜ï¼Œé€šå¸¸å‡è®¾æ–‡æ¡£åœ¨æé—®å‰å°±å·²ç»™å‡ºã€‚æœ¬æ–‡æå‡ºçš„(Document-Awarepassage Retrieval, DAPR)ä¸DocQAç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºDAPRå¸Œæœ›ç”¨æˆ·æé—®æ—¶ä¸çŸ¥é“ç›®æ ‡æ–‡æ¡£ï¼Œç”±æ¨¡å‹æ¥å¯»æ‰¾ç›®æ ‡æ–‡æ¡£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Long-document retrievalï¼ˆé•¿æ–‡æ¡£æ£€ç´¢ï¼‰&lt;/strong&gt;ï¼šå¯¹äºé•¿æ–‡æ¡£æ£€ç´¢æœ‰ä¸€äº›ç®€å•çš„æ–¹æ³•ï¼šå°†æ–‡æ¡£ä¸­æ®µè½ç›¸å…³æ€§çš„æœ€å¤§å€¼ä½œä¸ºæ–‡æ¡£çš„ç›¸å…³æ€§ï¼ˆMaxPï¼‰ï¼›ä»…ç¼–ç æ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªæ®µè½ï¼ˆFirstPï¼‰â€¦â€¦ä¸DAPRç›¸æ¯”ï¼Œæ‰€æœ‰è¿™äº›å…ˆå‰çš„å·¥ä½œéƒ½æ²¡æœ‰ç ”ç©¶å¦‚ä½•åœ¨è€ƒè™‘æ–‡æ¡£ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹æ£€ç´¢æ®µè½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hybrid retrievalï¼ˆæ··åˆæ£€ç´¢ï¼‰&lt;/strong&gt;ï¼šå¯¹äºä¸€ä¸ªæŸ¥è¯¢ä½¿ç”¨å¤šä¸ªæ£€ç´¢ç³»ç»Ÿï¼ˆå¸¸å¸¸æ˜¯BM25+ç¥ç»æ£€ç´¢ï¼‰
&lt;ul&gt;
&lt;li&gt;rank fusionï¼ˆæ’åèåˆï¼‰â€”â€”é€šè¿‡å‡¸ç»„åˆã€äº’é€†æ’åç­‰æ–¹æ³•å°†ä¸åŒæ£€ç´¢ç³»ç»Ÿçš„ä¸ªä½“æ’ååˆå¹¶ä¸ºä¸€ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;hierarchical retrievalï¼ˆå±‚æ¬¡æ£€ç´¢ï¼‰â€”â€”é¦–å…ˆæ£€ç´¢æ–‡æ¡£ï¼Œç„¶åä»è¿™äº›æ–‡æ¡£ä¸­æ£€ç´¢æ®µè½ã€‚åªé€‚ç”¨äºæ®µè½æœ¬èº«è¶³ä»¥å¯¹æŸ¥è¯¢åšå‡ºå“åº”çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡æ¢è®¨äº†æ®µè½æ’åå’Œæ–‡æ¡£æ’åç»“åˆçš„æœ‰æ•ˆæ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Relation to pre-training tasksï¼ˆå’Œé¢„è®­ç»ƒä»»åŠ¡çš„å…³ç³»ï¼‰&lt;/strong&gt;ï¼šæœ‰çš„ç ”ç©¶åœ¨é¢„è®­ç»ƒä¸­åŠ å…¥ä¸Šä¸‹æ–‡ã€‚ä½†æ¨ç†æ—¶ä»ç„¶åªå…³æ³¨ç‹¬ç«‹çš„æ®µè½ã€‚&lt;/li&gt;
&lt;li&gt;è¡¥å……ï¼š
&lt;ul&gt;
&lt;li&gt;NQï¼šè°·æ­Œçš„ä¸€ä¸ªé—®ç­”æ•°æ®é›†&lt;/li&gt;
&lt;li&gt;NDCGï¼šè¯„ä»·æ£€ç´¢åºåˆ—çš„ç›¸å…³æ€§å’Œä½ç½®&lt;/li&gt;
&lt;li&gt;å…±æŒ‡ä¿¡æ¯ï¼šæè¿°æ–‡æœ¬ä¸­ä¸åŒè¡¨è¾¾å¼æŒ‡å‘åŒä¸€å®ä½“æˆ–æ¦‚å¿µçš„è¯­è¨€ç°è±¡ï¼Œå¦‚*â€œç›ä¸½æ‰“å¼€äº†é—¨ï¼Œ&lt;strong&gt;å¥¹&lt;/strong&gt;éšåæ‹¿èµ·åŒ…ã€‚â€* â†’ â€œå¥¹â€ä¸â€œç›ä¸½â€å…±æŒ‡åŒä¸€äººã€‚&lt;/li&gt;
&lt;li&gt;å…±æŒ‡æ¶ˆè§£ï¼ˆCoreference Resolutionï¼‰ï¼šè‡ªåŠ¨è¯†åˆ«æ–‡æœ¬ä¸­æ‰€æœ‰æŒ‡å‘åŒä¸€å®ä½“çš„è¡¨è¾¾å¼å¹¶åˆ†ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;BR&gt;
&lt;h2 id="3method"&gt;3.Method&lt;/h2&gt;
&lt;p&gt;DAPRä»»åŠ¡è¦æ±‚ç³»ç»Ÿæå–+æ’åºã€‚ç»™å‡ºæ®µè½é›†åˆ$C$ï¼Œæ–‡æ¡£é›†åˆ$D$ï¼Œå¯¹äºæŸ¥è¯¢é›†åˆ$q \in Q$ï¼Œæ£€ç´¢ç³»ç»Ÿ$s$åº”è¯¥æå–å‡ºæœ€å¥½çš„$K$ä¸ªæ®µè½é›†åˆ$R$ã€‚&lt;/p&gt;
&lt;h3 id="31nq-hard"&gt;3.1NQ-Hard&lt;/h3&gt;
&lt;p&gt;å¯¹SOTAçš„æ£€ç´¢å™¨ï¼ˆDRAGON+,SPLADEv2, and ColBERTv2)ä½¿ç”¨NQæ•°æ®é›†ï¼Œå‘ç°ä¸€åŠçš„é”™è¯¯æ¥è‡ªäºä¸äº†è§£ä¸Šä¸‹æ–‡ã€‚å°†è¿™äº›æ•°æ®å‘½åä¸º&lt;strong&gt;NQ-hard&lt;/strong&gt;ï¼Œå¹¶åˆ†ä¸º4ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…±æŒ‡æ¶ˆè§£ï¼ˆCRï¼‰ï¼šå…³é”®çš„å…±æŒ‡ä¿¡æ¯éœ€è¦é€šè¿‡ç‰¹å®šæ–‡æ¡£ä¸Šä¸‹æ–‡æ¥è§£æï¼›&lt;/li&gt;
&lt;li&gt;ä¸»è¦ä¸»é¢˜ï¼ˆMTï¼‰ï¼šåªæœ‰äº†è§£æ–‡æ¡£çš„èƒŒæ™¯ä¸»é¢˜ï¼ˆé€šå¸¸æ˜¯æ ‡é¢˜ï¼‰ï¼Œæ‰èƒ½å›ç­”æŸ¥è¯¢ï¼›&lt;/li&gt;
&lt;li&gt;å¤šè·³æ¨ç†ï¼ˆMHRï¼‰ï¼šè¿æ¥æŸ¥è¯¢å’ŒæŸ¥è¯¢ç›¸å…³æ®µè½ä¸­çš„å®ä½“çš„æ¨ç†è·¯å¾„åŒ…æ‹¬æ–‡æ¡£ä¸Šä¸‹æ–‡ä¸­çš„å…¶ä»–èŠ‚ç‚¹ï¼›&lt;/li&gt;
&lt;li&gt;ç¼©å†™ï¼ˆACï¼‰ï¼šåœ¨ç›¸å…³æ®µè½ï¼ˆæˆ–æŸ¥è¯¢ï¼‰ä¸­å‡ºç°ä¸€ä¸ªç¼©å†™ï¼Œè¯¥ç¼©å†™å¯¹åº”äºæŸ¥è¯¢ï¼ˆæˆ–ç›¸å…³æ®µè½ï¼‰ä¸­çš„å…¨ç§°ï¼Œæ–‡æ¡£ä¸Šä¸‹æ–‡è§£é‡Šäº†è¿™ç§æ˜ å°„ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="nqques" loading="lazy" src="https://Rook1eChan.github.io/DAPR/NQques.png"&gt;&lt;/p&gt;
&lt;BR&gt;
&lt;h3 id="32datasets"&gt;3.2Datasets&lt;/h3&gt;
&lt;p&gt;MS MARCOã€Natural Questionsã€MIRACLã€Genomics å’Œ ConditionalQAï¼ˆå…·ä½“å¤„ç†æ–¹å¼è§é™„å½•Aï¼‰æœ‰è¯­æ–™åº“çš„ç›´æ¥ç”¨ï¼Œæ²¡æœ‰çš„æŠŠé»„é‡‘æ®µè½æ–‡æœ¬æ”¶é›†èµ·æ¥å½“è¯­æ–™åº“ã€‚ï¼ˆä¹Ÿæ˜¯å¾ˆç¥å¥‡ï¼‰&lt;/p&gt;
&lt;BR&gt;
&lt;h3 id="33evaluation"&gt;3.3Evaluation&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;nDCG@10&lt;/strong&gt;å’Œrecall@100åšæŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;å°†binary/3-scaleè½¬æ¢ä¸º0-1/0-1-2ï¼Œç„¶åä½¿ç”¨pytrec_evalè®¡ç®—æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘åˆ°ç°å®ä¸–ç•Œä¸­çš„æ£€ç´¢ç³»ç»Ÿå¤šç”¨äºé›¶æ ·æœ¬ã€è·¨é¢†åŸŸçš„æƒ…æ™¯ï¼Œæœ¬æ–‡è¿›è¡Œäº†ä¸€é¡¹æµ‹è¯•ï¼šåœ¨MS MARCOè®­ç»ƒé›†è®­ç»ƒï¼Œç„¶ååœ¨MS MARCOæµ‹è¯•é›†æµ‹è¯•ï¼Œä½œä¸ºåŸŸå†…è¯„ä¼°ï¼›åœ¨å…¶å®ƒå››ä¸ªæ•°æ®é›†ä¸Šæµ‹è¯•ï¼Œä½œä¸ºåŸŸå¤–è¯„ä¼°ã€‚&lt;/p&gt;
&lt;BR&gt;
&lt;h2 id="4experiments"&gt;4.Experiments&lt;/h2&gt;
&lt;h3 id="41åŸºç¡€æ£€ç´¢å™¨"&gt;4.1åŸºç¡€æ£€ç´¢å™¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;BM25ï¼ˆä½¿ç”¨PySeriniçš„é»˜è®¤é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;neural retrieversï¼šDRAGON+ã€SPLADEv2ã€ColBERTv2ï¼ˆåœ¨MS MARCOä¸Šè®­ç»ƒï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;BR&gt;
&lt;h3 id="42ä¸¤ç§å°†ä¸Šä¸‹æ–‡å¼•å…¥ç¥ç»æ£€ç´¢å™¨çš„æ–¹æ³•"&gt;4.2ä¸¤ç§å°†ä¸Šä¸‹æ–‡å¼•å…¥ç¥ç»æ£€ç´¢å™¨çš„æ–¹æ³•&lt;/h3&gt;
&lt;h4 id="421åŠ å…¥bm25çš„æ··åˆæ£€ç´¢"&gt;4.2.1åŠ å…¥BM25çš„æ··åˆæ£€ç´¢&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ1ï¼‰Rank fusionèåˆæ£€ç´¢&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>ä»0å¼€å§‹å»ºç«‹Githubä¸ªäººåšå®¢(hugo&amp;PaperMod)</title><link>https://Rook1eChan.github.io/posts/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%BB%BA%E7%AB%8Bgithub%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2hugopapermod/</link><pubDate>Fri, 02 May 2025 12:39:00 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%BB%BA%E7%AB%8Bgithub%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2hugopapermod/</guid><description>&lt;p&gt;githubæä¾›ç»™æ¯ä¸ªç”¨æˆ·ä¸€ä¸ªç½‘å€ï¼Œç”¨æˆ·å¯ä»¥å»ºç«‹è‡ªå·±çš„é™æ€ç½‘ç«™ã€‚&lt;/p&gt;
&lt;h2 id="ä¸€hugo"&gt;ä¸€ã€Hugo&lt;/h2&gt;
&lt;p&gt;hugoæ˜¯ä¸€ä¸ªå¿«é€Ÿæ­å»ºç½‘ç«™çš„å·¥å…·ï¼Œç”±goè¯­è¨€ç¼–å†™ã€‚&lt;/p&gt;
&lt;h3 id="1å®‰è£…hugo"&gt;1.å®‰è£…hugo&lt;/h3&gt;
&lt;p&gt;åˆ°hugoçš„githubæ ‡ç­¾é¡µ&lt;a href="https://github.com/gohugoio/hugo/tags"&gt;Tags Â· gohugoio/hugo&lt;/a&gt;é€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…ã€‚æ¯”å¦‚&lt;code&gt;hugo_extended_withdeploy_0.147.0_windows-amd64.zip&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è§£å‹åï¼Œåœ¨æ ¹ç›®å½•æ‰“å¼€cmdï¼Œè¾“å…¥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new site YourSiteName
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºä½ çš„ç½‘ç«™å»ºç«‹æ–‡ä»¶å¤¹ã€‚&lt;code&gt;YourSiteName&lt;/code&gt;æ›´æ”¹ä¸ºä½ çš„ç½‘ç«™çš„åå­—ã€‚
æ ¹ç›®å½•ä¼šå‡ºç°YourSiteNameæ–‡ä»¶å¤¹ã€‚&lt;/p&gt;
&lt;p&gt;3.å°†æ ¹ç›®å½•çš„hugo.exeå¤åˆ¶åˆ°YourSiteNameé‡Œã€‚
åœ¨YourSiteNameæ–‡ä»¶å¤¹é‡Œæ‰“å¼€cmdï¼Œè¾“å…¥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo server -D
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šè¿”å›å¦‚ä¸‹ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;|&lt;/span&gt; EN
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;-------------------+-----
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Pages &lt;span class="p"&gt;|&lt;/span&gt; 11
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Paginator pages &lt;span class="p"&gt;|&lt;/span&gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Non-page files &lt;span class="p"&gt;|&lt;/span&gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Static files &lt;span class="p"&gt;|&lt;/span&gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Processed images &lt;span class="p"&gt;|&lt;/span&gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Aliases &lt;span class="p"&gt;|&lt;/span&gt; 2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Cleaned &lt;span class="p"&gt;|&lt;/span&gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Built in 79 ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Environment: &lt;span class="s2"&gt;&amp;#34;development&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Serving pages from disk
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Press Ctrl+C to stop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨æµè§ˆå™¨ä¸­è¾“å…¥&lt;code&gt;http://localhost:1313/&lt;/code&gt;ï¼Œæ˜¾ç¤ºPage Not Foundï¼Œè¯´æ˜æœåŠ¡å™¨æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯æ­¤æ—¶ç½‘ç«™è¿˜æ²¡æœ‰é¡µé¢ã€‚&lt;/p&gt;</description></item><item><title>Neural-IR Modelsï¼ˆåšå®¢ï¼‰</title><link>https://Rook1eChan.github.io/posts/neural-ir-models/</link><pubDate>Fri, 02 May 2025 01:18:03 +0800</pubDate><guid>https://Rook1eChan.github.io/posts/neural-ir-models/</guid><description>&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://medium.com/@mhammadkhan/neural-re-ranking-models-c0a67278f626"&gt;Neural-IR Models.. Neural IR(Information Retrieval) is aâ€¦ | by Muhammad Hammad Khan | Medium&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘æ–‡ï¼š&lt;a href="https://zhuanlan.zhihu.com/p/545429612"&gt;ã€ç¿»è¯‘ã€‘ä¸€æ–‡è¯¦è§£ç¥ç»ä¿¡æ¯æ£€ç´¢é¢†åŸŸçš„æœ€æ–°è¿›å±• - çŸ¥ä¹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¥ç»ä¿¡æ¯æ£€ç´¢(Neural Information Retrieval, Neural IR)æ˜¯ä¿¡æ¯æ£€ç´¢é¢†åŸŸçš„ä¸€ä¸ªé‡è¦ç ”ç©¶è¯¾é¢˜ã€‚è‡ªä»è°·æ­Œåœ¨2018å¹´å‘å¸ƒBERTä»¥æ¥ï¼Œå®ƒåœ¨11ä¸ªNLPä»»åŠ¡ä¸Šè·å¾—äº†æœ€å…ˆè¿›çš„ç»“æœï¼Œä¸€ä¸¾æ”¹å˜äº†æ•´ä¸ªNLPé¢†åŸŸçš„ç ”ç©¶èŒƒå¼ã€‚2019å¹´1æœˆï¼ŒNogueiraå’ŒChoåœ¨MS MARCO Passage Rankingæµ‹è¯•é›†ä¸Šé¦–æ¬¡ä½¿ç”¨BERTã€‚ä»é‚£æ—¶èµ·ï¼Œäººä»¬å¼€å§‹ç ”ç©¶ç¥ç»ä¿¡æ¯æ£€ç´¢çš„èŒƒå¼ï¼Œä¹Ÿæå‡ºäº†è®¸å¤šåŸºäºBERTçš„æ–‡æœ¬æ’åºæ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ç”¨äº&lt;strong&gt;å¤šé˜¶æ®µæœç´¢æ¶æ„çš„é‡æ’é˜¶æ®µ(Re-Ranker)&lt;/strong&gt;ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="image" loading="lazy" src="https://Rook1eChan.github.io/Neural-IR-Models-1.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Figure1 å±•ç¤ºäº†ä¸€ä¸ªç®€åŒ–çš„å¤šé˜¶æ®µæœç´¢ç»“æ„ã€‚ç¬¬ä¸€æ­¥ï¼šå€’æ’ç´¢å¼•ï¼ˆInverted Indexï¼‰+BM25å¾—åˆ†è¿›è¡Œæ’åºï¼Œå¾—åˆ°topKæ–‡æ¡£ï¼Œè¿™ä¸€æ­¥ä¹Ÿå«å€™é€‰é¡¹ç”Ÿæˆï¼ˆCandidates Generationï¼‰ã€‚ç¬¬äºŒæ­¥ï¼Œé€šè¿‡åŸºäºBERTçš„ä¸Šä¸‹æ–‡æ’åºæ¨¡å‹æ¥ç¡®å®šå‰Nä¸ªæ–‡æ¡£çš„æœ€ç»ˆæ’åºã€‚&lt;/p&gt;
&lt;p&gt;ç¥ç»é‡æ’æ¨¡å‹(Neural re-ranking models)ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼Œå¦‚Figure2æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºè¡¨å¾(representation-focused)&lt;/li&gt;
&lt;li&gt;åŸºäºäº¤äº’(interaction-focused)&lt;/li&gt;
&lt;li&gt;å…¨äº¤äº’ï¼ˆä¹Ÿè¢«ç§°ä½œäº¤å‰ç¼–ç å™¨,ï¼‰(all-to-all interaction(cross encoder) )&lt;/li&gt;
&lt;li&gt;è¿Ÿäº¤äº’(late interaction)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="image" loading="lazy" src="https://Rook1eChan.github.io/Neural-IR-Models-2.jpg"&gt;&lt;/p&gt;
&lt;h2 id="1åŸºäºè¡¨å¾åŒå¡”æ¨¡å‹bi-encoder-models"&gt;1.åŸºäºè¡¨å¾â€”â€”åŒå¡”æ¨¡å‹(Bi-encoder Models)&lt;/h2&gt;
&lt;p&gt;åŒå¡”æ¨¡å‹å°†Queryå’ŒDocåˆ†åˆ«è¡¨å¾ä¸ºå¯†é›†çš„å‘é‡åµŒå…¥ï¼Œç”¨å‘é‡ç›¸ä¼¼åº¦åˆ†æ•°æ¥ä¼°è®¡Qå’ŒDçš„ç›¸å…³æ€§ã€‚åœ¨è®­ç»ƒæ—¶&lt;strong&gt;éœ€è¦æ­£è´Ÿæ ·æœ¬è¿›è¡Œå¯¹æ¯”å­¦ä¹ &lt;/strong&gt;ï¼Œå› ä¸ºå¦‚æœåªç»™æ¨¡å‹çœ‹æ­£æ ·æœ¬ï¼Œå®ƒä¼šå·æ‡’â€”â€”æŠŠæ‰€æœ‰å‘é‡éƒ½å˜æˆä¸€æ ·çš„ï¼Œè¿™æ ·â€œç›¸ä¼¼åº¦â€æ°¸è¿œæœ€é«˜ã€‚è´Ÿæ ·æœ¬å¼ºè¿«æ¨¡å‹å­¦ä¼šåŒºåˆ†ç›¸å…³å’Œä¸ç›¸å…³çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å°†æ¨¡å‹è®­ç»ƒå¥½åï¼Œdocå’Œqueryçš„è¡¨å¾å¯ä»¥ç‹¬ç«‹è¿›è¡Œï¼Œä¸ç”¨åƒäº¤å‰ç¼–ç å™¨é‚£æ ·æ¯æ¬¡éƒ½è¦æŠŠQueryå’ŒDocæ‹¼åœ¨ä¸€èµ·é‡æ–°è®¡ç®—ã€‚&lt;/p&gt;
&lt;h3 id="11å¯†é›†æ®µè½æ£€ç´¢å™¨dense-passage-retriever-dpr"&gt;1.1å¯†é›†æ®µè½æ£€ç´¢å™¨(Dense passage retriever, DPR)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;è®ºæ–‡ï¼š&lt;a href="https://aclanthology.org/2020.emnlp-main.550"&gt;Dense Passage Retrieval for Open-Domain Question Answering&lt;/a&gt;
EMNLP 2020, Facebook Research
Code: &lt;a href="https://github.com/facebookresearch/DPR"&gt;github.com/facebookresearch/DPR&lt;/a&gt;
è®²è§£åšå®¢ï¼š&lt;a href="https://blog.csdn.net/qq_45668004/article/details/138256448"&gt;ã€IR è®ºæ–‡ã€‘DPR â€” æœ€æ—©æå‡ºä½¿ç”¨åµŒå…¥å‘é‡æ¥æ£€ç´¢æ–‡æ¡£çš„æ¨¡å‹_dpræ¨¡å‹-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;DPRæ˜¯ä¸€ä¸ªåº”ç”¨äºé—®ç­”é¢†åŸŸçš„åŒå¡”æ¨¡å‹ï¼Œæ—¨åœ¨æœ€å¤§é™åº¦åœ°æé«˜æŸ¥è¯¢ä¸ç›¸å…³æ–‡æ¡£çš„ç›¸ä¼¼åº¦ï¼ŒåŒæ—¶æœ€å°åŒ–ä¸éç›¸å…³æ–‡æ¡£çš„ç›¸ä¼¼åº¦ã€‚DPRæ˜¯RAGä¸­Rçš„ç»å…¸æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;æ­£æ ·æœ¬å¾€å¾€æ•°æ®é›†å·²ç»™å®šï¼Œè€Œè´Ÿæ ·æœ¬æ¯”è¾ƒéš¾é€‰æ‹©ã€‚ä¸ºæ­¤ï¼ŒDPRæå‡ºäº†ä¸€ç§Batchå†…è´Ÿé‡‡æ ·çš„æŠ€æœ¯ï¼Œä»åŒä¸€æ‰¹æ¬¡çš„å…¶ä»–æ ·æœ¬ä¸­é€‰æ‹©æ ·æœ¬ä½œä¸ºè´Ÿæ ·æœ¬ã€‚è¿™ç§æ–¹æ³•æ˜¯æœ‰æ•ˆä¸”é«˜æ•ˆçš„ã€‚&lt;/p&gt;
&lt;h3 id="12æœ€è¿‘é‚»è´Ÿå¯¹æ¯”ä¼°è®¡-approximate-nearest-neighbour-negative-contrastive-estimation-ance"&gt;1.2æœ€è¿‘é‚»è´Ÿå¯¹æ¯”ä¼°è®¡ (Approximate nearest neighbour Negative Contrastive Estimation, ANCE)&lt;/h3&gt;
&lt;p&gt;è¯¥è®ºæ–‡è¯æ˜äº†å¼ºè´Ÿæ ·æœ¬èƒ½å¤ŸåŠ é€Ÿæ¨¡å‹æ”¶æ•›ï¼Œæå‡æ¨¡å‹æ€§èƒ½ã€‚è´Ÿæ ·æœ¬åˆ†ä¸ºæ˜“åŒºåˆ«çš„å’Œä¸æ˜“åŒºåˆ«çš„ï¼Œæ˜¾ç„¶ä¸æ˜“åŒºåˆ«ï¼ˆå³å¼ºè´Ÿæ ·æœ¬ï¼‰çš„å¯¹æ¨¡å‹å­¦ä¹ å¸®åŠ©æ›´å¤§ã€‚æœ¬æ–‡ä½¿ç”¨ANNå¯»æ‰¾å¼ºè´Ÿæ ·æœ¬ã€‚&lt;/p&gt;</description></item></channel></rss>